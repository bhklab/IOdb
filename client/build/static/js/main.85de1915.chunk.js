(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{168:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),r=n.n(i),o=n(12),c=n.n(o),l=n(24),s=n(10),u=n(17),d=n.n(u),f=n(23),h=n(8),b=n(4),p=n(5),j={blue:"#3375B1",red:"#b13336",hover_blue:"#2A6193",hover_red:"#9f2d30",orange_highlight:"#F2950B",gray_text:"#666666",light_gray:"#999999"};function g(){var e=Object(b.a)(["\n    width: 80%;\n    max-width: 500px;\n    display: flex;\n    justify-content: space-between;\n    padding: 0px 30px;\n    a {\n        color: #ffffff;\n    }\n    a:last-child {\n        margin-right: 0;\n    }\n"]);return g=function(){return e},e}function m(){var e=Object(b.a)(["\n    height: 70%;\n    align-items: center;\n    img {\n        height: 100%;\n    }\n"]);return m=function(){return e},e}function x(){var e=Object(b.a)(["\n    width: 85%;\n    max-width: 1500px;\n    height: 100%;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 14px;\n"]);return x=function(){return e},e}function v(){var e=Object(b.a)(["\n    width: 100%;\n    height: 60px;\n    background-color: ",";\n    display: flex;\n    align-items: center;\n"]);return v=function(){return e},e}var O=p.b.div(v(),j.blue),y=p.b.div(x()),w=p.b.div(m()),_=p.b.div(g()),S=function(){return Object(a.jsx)(O,{children:Object(a.jsxs)(y,{children:[Object(a.jsx)(w,{children:Object(a.jsx)("img",{alt:"IO.db",src:"./images/logos/IOdb-logo-white.png"})}),Object(a.jsxs)(_,{children:[Object(a.jsx)(l.b,{to:"/",onClick:function(e){window.location.reload()},children:"Home"}),Object(a.jsx)(l.b,{to:"/",children:"About"}),Object(a.jsx)(l.b,{to:"/",children:"Download"}),Object(a.jsx)(l.b,{to:"/",children:"Contact"})]})]})})};function I(){var e=Object(b.a)(["\n    color: ",";\n    font-size: 10px;\n    a {\n        color: ",";\n    }\n    .divider {\n        margin: 0px 10px;\n    }\n"]);return I=function(){return e},e}function N(){var e=Object(b.a)(["\n    width: 85%;\n    height: 100%;\n    max-width: 1500px;\n    margin-left: auto;\n    margin-right: auto;\n    border-top: 1px solid ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n"]);return N=function(){return e},e}function P(){var e=Object(b.a)(["\n    position relative;\n    bottom: 0%;\n    width: 100%;\n    height: 44px;\n    display: flex;\n    align-items: center;\n"]);return P=function(){return e},e}var C=p.b.div(P()),L=p.b.div(N(),j.blue),z=p.b.div(I(),j.blue,j.blue),E=function(){return Object(a.jsx)(C,{children:Object(a.jsxs)(L,{children:[Object(a.jsxs)(z,{children:[Object(a.jsx)("span",{className:"link",children:"Terms"}),Object(a.jsx)("span",{className:"divider",children:"|"}),Object(a.jsx)("span",{className:"link",children:"Privacy"}),Object(a.jsx)("span",{className:"divider",children:"|"}),Object(a.jsx)("span",{className:"link",children:"Support"})]}),Object(a.jsx)(z,{children:"BHK Lab \xa9 2020-2021"}),Object(a.jsx)(z,{children:Object(a.jsx)("a",{href:"https://www.vecteezy.com/free-vector/background",children:"Background by Vecteezy"})})]})})},k=function(e){var t=e.children;return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(S,{}),Object(a.jsx)("main",{children:t}),Object(a.jsx)(E,{})]})};k.defaultProps={page:"",children:null};var M=k,F=n(9),A=n(31),D=n.n(A);function q(){var e=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 5px;\n    border: none;\n    font-weight: normal;\n    letter-spacing: 1.5px;\n    width: ",";\n    height: ",";\n    background-color: ",";\n    font-size: ",";\n    color: ",";\n    cursor: ",";\n\n    :hover {\n        background-color: ",";\n        outline: ",";\n    }\n"]);return q=function(){return e},e}var T=p.b.button(q(),(function(e){return e.style.width?e.style.width:"45%"}),(function(e){return e.style.height?e.style.height:"80px"}),(function(e){return e.disabled?j.light_gray:e.color.background}),(function(e){return e.style.fontSize?e.style.fontSize:"20px"}),(function(e){return e.style.fontColor?e.style.fontColor:"#ffffff"}),(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?j.light_gray:e.color.hover}),(function(e){return e.color.hover})),B=function(e){var t=e.onClick,n=e.text,o=e.style,c=Object(i.useState)({background:j.blue,hover:j.hover_blue,ready:!1}),l=Object(h.a)(c,2),s=l[0],u=l[1];return Object(i.useEffect)((function(){switch(e.type){case"reset":u({background:j.red,hover:j.hover_red,ready:!0});break;default:u(Object(F.a)(Object(F.a)({},s),{},{ready:!0}))}}),[]),Object(a.jsx)(r.a.Fragment,{children:s.ready&&Object(a.jsx)(T,{onClick:t,color:s,style:o,disabled:e.disabled,children:n})})},W=n(75);function R(){var e=Object(b.a)(["\n    .pi {\n        color: ",";\n        font-size: 0.7rem;\n    }\n    .p-dropdown-items .p-dropdown-item {\n        color: ",";\n    }\n    .p-dropdown-label, .p-dropdown-item {\n        font-family: 'Noto Sans', sans-serif;\n        font-size: 12px;\n    }\n"]);return R=function(){return e},e}var H=Object(p.b)(W.Dropdown)(R(),j.gray_text,j.gray_text),G=function(e){var t=e.className,n=e.value,i=e.options,r=e.onChange,o=e.placeholder,c=e.disabled;return Object(a.jsx)(H,{className:t,value:n,options:i,onChange:r,placeholder:o,disabled:c})},J=n(76);function V(){var e=Object(b.a)(["\n    .p-multiselect-trigger .pi {\n        color: ",";\n        font-size: 0.7rem;\n    }\n    .p-multiselect-items .p-multiselect-item {\n        color: ",";\n        font-family: 'Noto Sans', sans-serif;\n        font-size: 12px;\n    }\n    .p-multiselect-label-container {\n        font-family: 'Noto Sans', sans-serif;\n        font-size: 12px;\n    }\n    .p-multiselect-filter-container input {\n        font-size: 12px;\n    }\n    .selected-item {\n        margin-right: 5px;\n    }\n"]);return V=function(){return e},e}var K=Object(p.b)(J.MultiSelect)(V(),j.gray_text,j.gray_text),U=function(e){return e?Object(a.jsx)("span",{className:"selected-item",children:e}):"Select..."},Z=function(e){var t=e.className,n=e.value,i=e.options,r=e.onChange,o=e.placeholder,c=e.disabled;return Object(a.jsx)(K,{className:t,value:n,options:i,onChange:r,selectedItemTemplate:U,filter:!0,placeholder:o,disabled:c})};function Q(){var e=Object(b.a)(["\n    width: ",";\n    margin-top: 30px;\n    display: flex;\n    flex-direction: ",";\n    align-items: center;\n    justify-content: space-between;\n    font-size: 12px;\n\n    .formField {\n        width: ",";\n        display: flex;\n        align-items: center;\n        justify-content: ",";\n        margin-bottom: 10px;\n        margin-right: ",";\n        .label {\n            margin-right: 10px;\n            font-size: 14px;\n        }\n        .select {\n            width: 70%;\n        }\n    }\n\n    .buttonField {\n        display: flex;\n        justify-content: ",";\n    }\n"]);return Q=function(){return e},e}var X=p.b.div(Q(),(function(e){return"column"===e.flexDirection?"100%":"80%"}),(function(e){return e.flexDirection}),(function(e){return"column"===e.flexDirection?"100%":"30%"}),(function(e){return"column"===e.flexDirection?"space-between":"center"}),(function(e){return"column"===e.flexDirection?"0px":"20px"}),(function(e){return"column"===e.flexDirection?"flex-end":"flex-start"})),Y=function(e){var t=e.parameters,n=e.setParameters,r=e.onSubmit,o=e.onReset,c=e.resetButton,l=Object(i.useState)([]),s=Object(h.a)(l,2),u=s[0],b=s[1],p=Object(i.useState)([]),j=Object(h.a)(p,2),g=j[0],m=j[1],x=Object(i.useState)([]),v=Object(h.a)(x,2),O=v[0],y=v[1];return Object(i.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/dropdown_option");case 2:t=e.sent,console.log(t.data),(n=t.data.signatures.map((function(e){return{value:e,label:e,disabled:!0}}))).unshift({value:"ALL",label:"ALL",disabled:!1}),b(n),m(t.data.outcome.map((function(e){return{value:e,label:e,disabled:!1}}))),y(t.data.model.map((function(e){return{value:e,label:e,disabled:!1}})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsxs)(X,{flexDirection:e.flexDirection,children:[Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Outcome: "}),Object(a.jsx)(G,{className:"select",value:t.outcome,options:g,onChange:function(e){!function(e){var a="",i=JSON.parse(JSON.stringify(O));"Response"!==e.value?(i.find((function(e){return"Log_regression"===e.value})).isDisabled=!0,i.filter((function(e){return"Log_regression"!==e.value})).forEach((function(e){e.isDisabled=!1})),a="Log_regression"===t.model&&""):(i.find((function(e){return"Log_regression"===e.value})).isDisabled=!1,i.filter((function(e){return"Log_regression"!==e.value})).forEach((function(e){e.isDisabled=!0})),a="Log_regression"!==t.model&&""),y(i),n((function(t){return Object(F.a)(Object(F.a)({},t),{},{model:a,outcome:e.value})}))}(e)},placeholder:"Select..."})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Model: "}),Object(a.jsx)(G,{className:"select",value:t.model,options:O,onChange:function(e){n(Object(F.a)(Object(F.a)({},t),{},{model:e.value}))},placeholder:"Select..."})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Signatures: "}),Object(a.jsx)(Z,{className:"select",value:t.signatures,options:u,onChange:function(e){!function(e){var a=JSON.parse(JSON.stringify(u));e.value.includes("ALL")?(a.forEach((function(e){"ALL"===e.value?e.disabled=!1:e.disabled=!0})),e.value=e.value.filter((function(e){return"ALL"===e}))):a.forEach((function(e){e.disabled=!1})),b(a),n(Object(F.a)(Object(F.a)({},t),{},{signatures:e.value}))}(e)},filter:!0,placeholder:"Select..."})]}),Object(a.jsxs)("div",{className:"formField buttonField",children:[Object(a.jsx)(B,{onClick:function(e){r()},text:"Submit",disabled:""===t.model||""===t.outcome||""===t.subgroup,style:{width:"90px",height:"34px",fontSize:"14px"}}),c&&Object(a.jsx)(B,{onClick:function(e){o()},text:"Reset",type:"reset",style:{width:"90px",height:"34px",fontSize:"14px",marginLeft:"10px"}})]})]})},$=n(53),ee=n.n($),te=n(18),ne=n(54),ae=n(15),ie=n(38);function re(){var e=Object(b.a)(["\n    width: 100%;\n    height: 80%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    .tooltip {\n        position: absolute;\n        font-size: 11px; \n        background-color: rgba(242,255,223,0.8); \n        padding: 2px 10px; \n        color: rgb(7,28,44);\n        border-radius: 3;\n    }\n    .pointLink:hover {\n        text-decoration: underline;\n    }\n"]);return re=function(){return e},e}var oe=p.b.div(re()),ce=Object(ie.withSize)()((function(e){Object(i.useEffect)((function(){t()}),[e.size.width,e.individuals]);var t=function(){var t={width:e.size.width,height:e.size.width},n=8,a=11,i=30,r=200,o=10,c=e.individuals.concat(e.meta),l=e.meta[0],s=function(){return e.individuals},u=function(){return Math.min.apply(Math,Object(te.a)(c.map((function(e){return Number(e._95ci_low)}))))},d=function(){return Math.max.apply(Math,Object(te.a)(c.map((function(e){return Number(e._95ci_high)}))))},f=function(e){return ae.a().domain([u(),d()]).range([r,t.width-o])(e)},h=function(e){return ae.a().domain([0,c.length+1]).range([20,460])(e)},b=[u(),Math.round(100*l.effect_size)/100,0,d()],p=function(t,n,a){var i=ae.b("#".concat(e.id,"PlotContainer")).append("div").attr("id",n).attr("class","tooltip").style("left","".concat(f(1)+10,"px")).style("top","".concat(h(t)-30,"px"));a.study?i.html(a.study+" ("+a.primary_tissue+"; "+a.sequencing+")<br />N="+a.n+"<br />hazard ratio="+Number(a.effect_size).toFixed(4)+"<br />P-value="+Number(a.pval).toFixed(4)):i.html("Pooled Effect Size<br />N="+a.n+"<br />hazard ratio="+Number(a.effect_size).toFixed(4)+"<br />P-value="+Number(a.pval).toFixed(4))},g=function(e){ae.b(e).remove()},m=ae.b("#".concat(e.id));m.selectAll("*").remove(),m.attr("width",t.width).attr("height",t.height);var x=m.append("g");x.append("line").attr("id","xAxe").attr("x1",f(u())-r/2).attr("x2",f(d())+i).attr("y1",h(c.length+1)).attr("y2",h(c.length+1)).style("stroke","#0C3544").style("stroke-width","1"),x.append("line").attr("id","yAxe").attr("x1",f(0)).attr("x2",f(0)).attr("y1",h(-2)).attr("y2",h(c.length+1)).style("stroke","#0C3544").style("stroke-width","0.5"),x.append("line").attr("id","yAxe-dash").attr("x1",f(l.effect_size)).attr("x2",f(l.effect_size)).attr("y1",h(-2)).attr("y2",h(c.length+1)).attr("stroke-dasharray","3,4").style("stroke","#EF8020").style("stroke-width","0.5"),Object.keys(b).forEach((function(e,t){x.append("text").attr("id","xTag-"+t).attr("x",f(b[t])).attr("y",h(c.length+2)).attr("font-size",a).attr("font-weight","regular").attr("fill","#0C3544").attr("text-anchor","middle").text(b[t])})),Object.keys(b).forEach((function(e,t){x.append("line").attr("id","xAxeDash"+t).attr("x1",f(b[t])).attr("x2",f(b[t])).attr("y1",h(c.length+1)-5).attr("y2",h(c.length+1)+5).style("stroke","#0C3544").style("stroke-width","0.5")})),x.append("text").attr("x",f(0)).attr("y",h(c.length+2.7)).attr("font-size",a).attr("font-weight","regular").attr("fill","#0C3544").attr("text-anchor","middle").text("Hazard Ratio"),Object.keys(e.individuals).forEach((function(e,t){var i="point-".concat(c[e].study.replace(/[^a-zA-Z]/g,"")),r=m.append("g").attr("id","datapoint-"+t).style("cursor","arrow").on("click",(function(){return console.log(t)})).on("mouseover",(function(){p(e,i,c[e])})).on("mouseout",(function(){g("#".concat(i))}));r.append("a").attr("id","tag-"+t).attr("class","pointLink").attr("xlink:href","/").append("text").attr("x",0).attr("y",h(t)).attr("font-size",a).attr("fill","#0C3544").text("".concat(c[e].study,"(").concat(c[e].primary_tissue,", ").concat(c[e].sequencing,")")),r.append("line").attr("id","interval-"+t).attr("x1",f(Number(c[e]._95ci_low))).attr("x2",f(Number(c[e]._95ci_high))).attr("y1",h(t)).attr("y2",h(t)).style("stroke","#73848E").style("stroke-width","2").append("title").text("95CI:(".concat(s()[e]._95ci_low,", ").concat(s()[e]._95ci_high,")")),r.append("rect").attr("id","datPoint-"+t).attr("x",f(Number(c[e].effect_size))-n/2).attr("y",h(t)-n/2).style("width",n).style("height",n).style("fill","#236e96")}));var v=m.append("g").attr("id","pooled-effect").on("mouseover",(function(){p(c.length,"polygon-tooltip",l)})).on("mouseout",(function(){g("#polygon-tooltip")}));v.append("text").attr("id","tag-pooled-effect").attr("x",0).attr("y",h(c.length)).attr("font-size",a).attr("fill","#0C3544").text("Pooled Effect Sizes"),v.append("polygon").attr("id","diamond").attr("points",f(Number(l._95ci_low))+", "+h(c.length)+" "+f(Number(l.effect_size))+", "+(h(c.length)-n/2)+" "+f(Number(l._95ci_high))+", "+h(c.length)+" "+f(Number(l.effect_size))+", "+(h(c.length)+n/2)+" ").style("fill",j.orange_highlight)};return Object(a.jsx)(oe,{id:"".concat(e.id,"PlotContainer"),children:Object(a.jsx)("svg",{id:e.id})})}));function le(){var e=Object(b.a)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    margin-bottom: 20px;\n    font-size: 12px;\n\n    .title {\n        font-weight: bold;\n    }\n\n    .parameterLine {\n        .value {\n            font-weight: bold;\n        }\n    }\n    \n    .filter {\n        display: flex;\n        flex: 30%;\n        align-items: center;\n        margin-left: 20px;\n        .label {\n            margin-right: 5px;\n        }\n        .dropdown {\n            flex: 30%;\n        }\n        .sortIconBtn {\n            font-size: 14px;\n            margin-left: 10px;\n            background: none;\n            border: none;\n            padding: 0;\n            cursor: pointer;\n            outline: none;\n        }\n    }\n\n    .effectSizeValues {\n        display: flex;\n        .valueLine {\n            margin-left: 15px;\n            .value {\n                margin-left: 5px;\n                font-weight: bold;\n            }\n        }\n    }\n"]);return le=function(){return e},e}function se(){var e=Object(b.a)(["\n    width: 100%;\n"]);return se=function(){return e},e}var ue=p.b.div(se()),de=p.b.div(le()),fe=function(e){var t=e.parameters,n=e.forestPlotData,r=Object(i.useState)({ready:!1,individuals:[],meta:[]}),o=Object(h.a)(r,2),c=o[0],l=o[1],s=Object(i.useState)({value:"effect_size",asc:!0}),u=Object(h.a)(s,2),d=u[0],f=u[1],b=Object(i.useState)("ALL"),p=Object(h.a)(b,2),j=p[0],g=p[1],m=Object(i.useState)("ALL"),x=Object(h.a)(m,2),v=x[0],O=x[1],y=Object(i.useState)([]),w=Object(h.a)(y,2),_=w[0],S=w[1],I=Object(i.useState)([]),N=Object(h.a)(I,2),P=N[0],C=N[1];return Object(i.useEffect)((function(){var e=n.data.meta.filter((function(e){return"Tumor"===e.subgroup&&e.n>=3}));(e=e.map((function(e){return{value:e.tissue_type,label:e.tissue_type}})).sort((function(e,t){return e.label.localeCompare(t.label)}))).unshift({value:"ALL",label:"All"}),S(e),(e=(e=n.data.meta.filter((function(e){return"Sequencing"===e.subgroup&&e.n>=3}))).map((function(e){return{value:e.tissue_type,label:e.tissue_type}})).sort((function(e,t){return e.label.localeCompare(t.label)}))).unshift({value:"ALL",label:"All"}),C(e),l({individuals:Object(te.a)(n.data.individuals).sort((function(e,t){return e[d.value]-t[d.value]})),meta:n.data.meta.filter((function(e){return"ALL"===e.tissue_type})),ready:!0})}),[]),Object(i.useEffect)((function(){var e="ALL",t=Object(te.a)(n.data.individuals),a=Object(te.a)(n.data.meta);"ALL"!==j&&(t=t.filter((function(e){return e.primary_tissue===j})),e=j,O("ALL")),"ALL"!==v&&(t=t.filter((function(e){return e.sequencing===v})),e=v,g("ALL")),"effect_size"===d.value?t.sort((function(e,t){return d.asc?e[d.value]-t[d.value]:t[d.value]-e[d.value]})):(t.sort((function(e,t){return e[d.value]-t[d.value]})),d.asc||t.reverse()),t.sort((function(e,t){return d.asc?e[d.value]-t[d.value]:t[d.value]-e[d.value]})),l((function(n){return Object(F.a)(Object(F.a)({},n),{},{individuals:t,meta:a.filter((function(t){return t.tissue_type===e}))})}))}),[d,j,v]),Object(a.jsx)("div",{children:c.ready&&Object(a.jsxs)(ue,{children:[Object(a.jsx)("h3",{children:"Forest Plot"}),Object(a.jsxs)(de,{children:[Object(a.jsxs)("div",{className:"parameterLine",children:["Signature: ",Object(a.jsx)("span",{className:"value",children:t.signature})]}),Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsx)("span",{className:"label",children:"Sort By:"}),Object(a.jsx)(G,{className:"dropdown",value:d.value,options:[{value:"effect_size",label:"Hazard Ratio"},{value:"study",label:"Studies"}],onChange:function(e){f((function(t){return Object(F.a)(Object(F.a)({},t),{},{value:e.value})}))},placeholder:"Select..."}),Object(a.jsx)("button",{className:"sortIconBtn",onClick:function(e){f((function(e){return Object(F.a)(Object(F.a)({},e),{},{asc:!e.asc})}))},children:d.asc?Object(a.jsx)(ne.a,{}):Object(a.jsx)(ne.b,{})})]})]}),Object(a.jsxs)(de,{children:[Object(a.jsx)("div",{className:"title",children:"Filter By: "}),Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsx)("span",{className:"label",children:"Tissue Type:"}),Object(a.jsx)(G,{className:"dropdown",value:j,options:_,onChange:function(e){g(e.value)},disabled:"ALL"!==v,placeholder:"Select..."})]}),Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsx)("span",{className:"label",children:"Sequencing Type:"}),Object(a.jsx)(G,{className:"dropdown",value:v,options:P,onChange:function(e){O(e.value)},disabled:"ALL"!==j,placeholder:"Select..."})]})]}),Object(a.jsxs)(de,{children:[Object(a.jsx)("div",{className:"title",children:"Pooled Effect Sizes: "}),Object(a.jsxs)("div",{className:"effectSizeValues",children:[Object(a.jsxs)("div",{className:"valueLine",children:["P-value: ",Object(a.jsx)("span",{className:"value",children:Number(c.meta[0].pval).toFixed(3)})]}),Object(a.jsxs)("div",{className:"valueLine",children:["Coef: ",Object(a.jsx)("span",{className:"value",children:Number(c.meta[0].se).toFixed(3)})]}),Object(a.jsxs)("div",{className:"valueLine",children:["95CI Low: ",Object(a.jsx)("span",{className:"value",children:Number(c.meta[0]._95ci_low).toFixed(3)})]}),Object(a.jsxs)("div",{className:"valueLine",children:["95CI High: ",Object(a.jsx)("span",{className:"value",children:Number(c.meta[0]._95ci_high).toFixed(3)})]})]})]}),Object(a.jsx)(ce,{id:"forestplot",individuals:c.individuals,meta:c.meta})]})})},he=n(77),be=n.n(he),pe=n(78),je=n.n(pe)()(be.a),ge=Object(ie.withSize)()((function(e){var t=e.data,n=e.plotId,r=e.getForestPlotData,o=e.parameters,c=e.setParameters,l=Object(i.useState)({x:[],y:[],hovertext:[],pointColor:[],pointSize:[]}),s=Object(h.a)(l,2),u=s[0],d=s[1],f=Object(i.useState)(null),b=Object(h.a)(f,2),p=b[0],g=b[1];Object(i.useEffect)((function(){console.log(t),d({x:t.map((function(e){return e.effect_size})),y:t.map((function(e){return e.logPval})),click_ids:t.map((function(e,t){return t})),hovertext:O(t),pointColor:x(t),pointSize:m(t),pointLine:v(t)})}),[]),Object(i.useEffect)((function(){if(p){console.log(p);var e=x(t,p),n=v(t,p);d(Object(F.a)(Object(F.a)({},u),{},{pointColor:e,pointLine:n}))}}),[p]);var m=function(e){var t=[];return e.forEach((function(e){e.se<=.05?t.push(6):e.se>.05&&e.se<=.1?t.push(8):e.se>.1&&e.se<=.15?t.push(10):e.se>.15&&t.push(12)})),t},x=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],a=0;a<e.length;a++)a!==t?e[a].logPval<-Math.log10(.05)?n.push(j.gray_text):e[a].effect_size>0?n.push(j.red):n.push(j.blue):n.push(j.orange_highlight);return n},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],a=[];return e.forEach((function(e,i){i===t?(n.push(j.gray_text),a.push(2)):(n.push(void 0),a.push(0))})),{color:n,width:a}},O=function(e){var t=[];return e.forEach((function(e){t.push("Subgroup: ".concat(e.subgroup,"<br>Signature: ").concat(e.signature,"<br>Coef: ").concat(Math.round(1e3*e.effect_size)/1e3,"<br>P-value: ").concat(Math.round(1e4*e.pval)/1e4,"<br>I2: ").concat(Math.round(1e4*e.i2)/1e4,"<br>P-value I2: ").concat(Math.round(1e3*e.pval_i2)/1e3))})),t};return Object(a.jsx)("div",{children:Object(a.jsx)(je,{data:[{showlegend:!1,type:"scatter",mode:"markers",x:u.x,y:u.y,click_ids:u.click_ids,hoverinfo:"text",hovertext:u.hovertext,marker:{color:u.pointColor,size:u.pointSize,line:u.pointLine},name:"points"}],layout:{width:e.size.width,height:.8*e.size.width,autosize:!0,paper_bgcolor:"white",plot_bgcolor:"white",orientation:"v",yaxis:{ticklen:0,title:"-log10(p value)"},xaxis:{title:"Hazard Ratio",zeroline:!1},hovermode:"closest",font:{size:11,family:"Noto Sans"},margin:{l:45,r:10,t:10,b:40},shapes:[{type:"line",xref:"paper",x0:0,y0:-Math.log10(.05),x1:1,y1:-Math.log10(.05),line:{color:j.light_gray,width:2,dash:"dot"}},{type:"line",xref:"x",yref:"paper",x0:0,y0:0,x1:0,y1:1,line:{color:j.light_gray,width:2,dash:"dot"}}]},graphDiv:n,config:{responsive:!0,displayModeBar:!1},onClick:function(t){return function(t){var n=e.data[t.points[0].pointIndex];console.log(n),g(t.points[0].pointIndex),c(Object(F.a)(Object(F.a)({},o),{},{signature:n.signature})),r({signature:n.signature,outcome:n.outcome,model:n.model})}(t)},onHover:function(){ae.c(".nsewdrag").style("cursor","pointer")},onUnhover:function(){ae.c(".nsewdrag").style("cursor","")}})})}));function me(){var e=Object(b.a)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n    font-size: 12px;\n    .parameterLine {\n        margin-right: 20px;\n    }\n    .value {\n        font-weight: bold;\n    }\n"]);return me=function(){return e},e}function xe(){var e=Object(b.a)(["\n    width: 100%;\n    margin-bottom: 30px;\n"]);return xe=function(){return e},e}var ve=p.b.div(xe()),Oe=p.b.div(me()),ye=function(e){var t=e.parameters,n=e.setParameters,i=e.volcanoPlotData,r=e.getForestPlotData;return Object(a.jsxs)(ve,{children:[Object(a.jsx)("h3",{children:"Volcano Plot"}),Object(a.jsxs)(Oe,{children:[Object(a.jsxs)("div",{className:"parameterLine",children:["Outcome: ",Object(a.jsx)("span",{className:"value",children:t.outcome})]}),Object(a.jsxs)("div",{className:"parameterLine",children:["Model: ",Object(a.jsx)("span",{className:"value",children:t.model})]}),Object(a.jsxs)("div",{className:"parameterLine",children:["Subgroup: ",Object(a.jsx)("span",{className:"value",children:t.subgroup})]})]}),Object(a.jsx)(ge,{plotId:"volcano-plot",parameters:t,setParameters:n,data:i.data,getForestPlotData:r})]})};function we(){var e=Object(b.a)(["\n    width: 100%;\n    height: 500px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return we=function(){return e},e}function _e(){var e=Object(b.a)(["\n    width: ",";\n    // min-width: 400px;\n    padding 10px;\n"]);return _e=function(){return e},e}function Se(){var e=Object(b.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    .volcano {\n        width: 35%;\n    }\n    .forest {\n        width: 65%;\n    }\n"]);return Se=function(){return e},e}function Ie(){var e=Object(b.a)(["\n    width: 100%;\n"]);return Ie=function(){return e},e}var Ne=p.b.div(Ie()),Pe=p.b.div(Se()),Ce=p.b.div(_e(),(function(e){return e.width})),Le=p.b.div(we()),ze=function(e){var t=e.parameters,n=e.setParameters,r=Object(i.useState)({data:{},ready:!1}),o=Object(h.a)(r,2),c=o[0],l=o[1],s=Object(i.useState)({data:{},loading:!1,ready:!1}),u=Object(h.a)(s,2),b=u[0],p=u[1],g=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({data:{},ready:!1}),p({data:{},loading:!1,ready:!1}),e.next=4,D.a.post("/api/explore/volcano_plot",t);case 4:n=e.sent,l({data:n.data,ready:!0});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({data:{},loading:!0,ready:!1}),e.next=3,D.a.post("/api/explore/forest_plot",t);case 3:n=e.sent,console.log(n.data),p({data:n.data,loading:!1,ready:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){g()}),[]),Object(a.jsxs)(Ne,{children:[Object(a.jsx)("h3",{children:"Explore pre-computed signature data"}),Object(a.jsx)(Y,{parameters:t,setParameters:n,onSubmit:g,flexDirection:"row",resetButton:!0,onReset:function(){window.location.reload()}}),Object(a.jsxs)(Pe,{children:[Object(a.jsx)(Ce,{width:"40%",children:c.ready?Object(a.jsx)(ye,{parameters:t,setParameters:n,volcanoPlotData:c,getForestPlotData:m}):Object(a.jsx)(Le,{children:Object(a.jsx)(ee.a,{type:"Oval",color:j.blue,height:80,width:80})})}),Object(a.jsx)(Ce,{width:"60%",children:b.ready?Object(a.jsx)(fe,{parameters:t,forestPlotData:b}):b.loading?Object(a.jsx)(Le,{children:Object(a.jsx)(ee.a,{type:"Oval",color:j.blue,height:80,width:80})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Forest Plot"}),Object(a.jsx)("div",{children:"Click on a signature point on the volcano plot to display a corresponding forest plot."})]})})]})]})};function Ee(){var e=Object(b.a)(["\n    width: 90%;\n    max-width: 550px;\n    min-width: 415px;\n    display: flex;\n    flex-direction: column;\n    aling-items: center;\n    margin-top: 30px;\n\n    .subText {\n        font-size: 20px;\n        font-weight: bold;\n    }\n"]);return Ee=function(){return e},e}function ke(){var e=Object(b.a)(["\n    width: 90%;\n    max-width: 550px;\n    min-width: 415px;\n    margin-top: 20px;\n    margin-bottom: 20px;\n    line-height: 1.5;\n    letter-spacing: 1.5px;\n"]);return ke=function(){return e},e}function Me(){var e=Object(b.a)(["\n    height: 100px;\n    img {\n        height: 100%;\n    }\n"]);return Me=function(){return e},e}function Fe(){var e=Object(b.a)(["\n    width: 100%;\n    height: calc(100vh - 105px);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return Fe=function(){return e},e}var Ae=p.b.div(Fe()),De=p.b.div(Me()),qe=p.b.div(ke()),Te=p.b.div(Ee()),Be=function(){var e=Object(i.useState)(!0),t=Object(h.a)(e,2),n=t[0],r=t[1],o=Object(i.useState)({signatures:["ALL"],outcome:"",model:""}),c=Object(h.a)(o,2),l=c[0],s=c[1],u=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(M,{children:n?Object(a.jsxs)(Ae,{children:[Object(a.jsx)(De,{children:Object(a.jsx)("img",{alt:"IO.db",src:"./images/logos/IOdb-logo-main.png"})}),Object(a.jsxs)(qe,{children:["Investigate predictive and prognostic values of your gene.",Object(a.jsx)("br",{}),"Predict a patient response to ICB therapy."]}),Object(a.jsxs)(Te,{children:[Object(a.jsx)("div",{className:"subText",children:"Explore pre-computed signature data"}),Object(a.jsx)(Y,{parameters:l,setParameters:s,onSubmit:u,flexDirection:"column"})]})]}):Object(a.jsx)(ze,{parameters:l,setParameters:s})})},We=[{study:"Braun",Primary:"Kidney",Sequencing:"WES",N:"207",coef:"1.31",SE:"1","95CI_low":"-0.63","95CI_high":"3.3",Pval:"0.19116187669392",I2:"",Pval_I2:"","":""},{study:"Hugo",Primary:"Melanoma",Sequencing:"WES",N:"38",coef:"-1.15",SE:"0.88","95CI_low":"-3.03","95CI_high":"0.51",Pval:"0.192069400517325",I2:"",Pval_I2:"","":""},{study:"Jung",Primary:"Lung",Sequencing:"WES",N:"58",coef:"-2.89",SE:"1.87","95CI_low":"-6.81","95CI_high":"0.72",Pval:"0.12320240249438",I2:"",Pval_I2:"","":""},{study:"Liu",Primary:"Melanoma",Sequencing:"WES",N:"133",coef:"-0.6",SE:"0.33","95CI_low":"-1.27","95CI_high":"0.04",Pval:"0.0699389753777812",I2:"",Pval_I2:"","":""},{study:"Mariathasan",Primary:"Bladder",Sequencing:"TGS",N:"111",coef:"-1.4",SE:"0.76","95CI_low":"-3.01","95CI_high":"-0.01",Pval:"0.0654101643137176",I2:"",Pval_I2:"","":""},{study:"Mariathasan",Primary:"Kidney",Sequencing:"TGS",N:"41",coef:"-4.15",SE:"1.97","95CI_low":"-8.51","95CI_high":"-0.67",Pval:"0.0354133425733776",I2:"",Pval_I2:"","":""},{study:"Miao.1",Primary:"Kidney",Sequencing:"WES",N:"26",coef:"6.64",SE:"4.65","95CI_low":"-1.94","95CI_high":"16.66",Pval:"0.153071317449668",I2:"",Pval_I2:"","":""},{study:"Miao.2",Primary:"Bladder",Sequencing:"WES",N:"23",coef:"-4.06",SE:"2.01","95CI_low":"-8.59","95CI_high":"-0.55",Pval:"0.0429795958386913",I2:"",Pval_I2:"","":""},{study:"Miao.2",Primary:"Lung",Sequencing:"WES",N:"46",coef:"-4.08",SE:"1.32","95CI_low":"-7.01","95CI_high":"-1.77",Pval:"0.00206350292809808",I2:"",Pval_I2:"","":""},{study:"Miao.2",Primary:"Melanoma",Sequencing:"WES",N:"121",coef:"-0.9",SE:"0.41","95CI_low":"-1.74","95CI_high":"-0.11",Pval:"0.0282676251140886",I2:"",Pval_I2:"","":""},{study:"Nathanson",Primary:"Melanoma",Sequencing:"WES",N:"64",coef:"-1.9",SE:"0.74","95CI_low":"-3.47","95CI_high":"-0.53",Pval:"0.0103990433952875",I2:"",Pval_I2:"","":""},{study:"Riaz",Primary:"Melanoma",Sequencing:"WES",N:"42",coef:"-0.88",SE:"0.59","95CI_low":"-2.1","95CI_high":"0.26",Pval:"0.136832503169481",I2:"",Pval_I2:"","":""},{study:"Rizvi.15",Primary:"Lung",Sequencing:"WES",N:"27",coef:"-3.34",SE:"1.54","95CI_low":"-6.88","95CI_high":"-0.68",Pval:"0.0299558614957989",I2:"",Pval_I2:"","":""},{study:"Rizvi.18",Primary:"Lung",Sequencing:"TGS",N:"29",coef:"-1.91",SE:"1.43","95CI_low":"-5.05","95CI_high":"0.74",Pval:"0.181139430451187",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"Esophagus",Sequencing:"TGS",N:"21",coef:"-0.26",SE:"1.57","95CI_low":"-3.28","95CI_high":"2.68",Pval:"0.86966691869969",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"HNC",Sequencing:"TGS",N:"72",coef:"0.23",SE:"0.56","95CI_low":"-0.91","95CI_high":"1.31",Pval:"0.677660893752833",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"Melanoma",Sequencing:"TGS",N:"108",coef:"-1",SE:"0.33","95CI_low":"-1.66","95CI_high":"-0.37",Pval:"0.00232570823833877",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"Unknown",Sequencing:"TGS",N:"29",coef:"-2.78",SE:"0.88","95CI_low":"-4.72","95CI_high":"-1.22",Pval:"0.0015732380306142",I2:"",Pval_I2:"","":""},{study:"Snyder",Primary:"Ureteral",Sequencing:"WES",N:"22",coef:"-1.02",SE:"0.88","95CI_low":"-2.92","95CI_high":"0.62",Pval:"0.24338559549317",I2:"",Pval_I2:"","":""},{study:"Van_Allen",Primary:"Melanoma",Sequencing:"WES",N:"104",coef:"-0.52",SE:"0.49","95CI_low":"-1.5","95CI_high":"0.45",Pval:"0.288334147400417",I2:"",Pval_I2:"","":""},{study:"Meta-analysis",Primary:"ALL",Sequencing:"",N:"1322",coef:"-1.1",SE:"0.24","95CI_low":"-1.57","95CI_high":"-0.63",Pval:"4.09577538170971E-06",I2:"0.46",Pval_I2:"0.0128496553144055","":""}];n(79);function Re(){var e=Object(b.a)(["\n    width: 100%;\n    height: 100%;\n    margin-top: 40px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return Re=function(){return e},e}p.b.div(Re());var He=We,Ge=We[We.length-1],Je=function(){return Math.min.apply(Math,Object(te.a)(He.map((function(e){return Number(e["95CI_low"])}))))},Ve=function(){return Math.max.apply(Math,Object(te.a)(He.map((function(e){return Number(e["95CI_high"])}))))};Je(),Ge.coef,Ve();function Ke(){var e=Object(b.a)(["\n    html, body {\n        height: 100%;\n        margin: 0;\n    }\n    // html {\n    //     background-image: url('./images/background.png');\n    //     background-size: cover;\n    //     background-position: center;\n    //     background-repeat: no-repeat;\n    // }\n\n    body {\n        color: ",";\n        font-family: 'Noto Sans', sans-serif;\n        font-weight: 400;\n    }\n\n    #root {\n        height: 100%;\n        min-height: 100vh;\n    }\n\n    main {\n        min-height: calc(100vh - 105px);\n        width: 85%;\n        max-width: 1500px;\n        margin-left: auto;\n        margin-right: auto;\n        display: flex;\n        flex-direction: column;\n    }\n\n    a {\n        text-decoration: none;\n        transition: all 0.25s ease-out 0s;\n    }\n\n    a:hover {\n        transition: all 0.25s ease-out 0s;\n    }\n"]);return Ke=function(){return e},e}var Ue=Object(p.a)(Ke(),j.gray_text),Ze=function(){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(Ue,{}),Object(a.jsx)(l.a,{children:Object(a.jsx)(s.c,{children:Object(a.jsx)(s.a,{path:"/",exact:!0,component:Be})})})]})},Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};n(165),n(166),n(167);c.a.render(Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(Ze,{})}),document.getElementById("root")),Qe()}},[[168,1,2]]]);
//# sourceMappingURL=main.85de1915.chunk.js.map