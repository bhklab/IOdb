(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{159:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),r=n.n(i),c=n(11),o=n.n(c),l=n(19),s=n(8),u=n(17),d=n.n(u),h=n(21),f=n(10),b=n(4),p=n(5),j={blue:"#3375B1",red:"#b13336",hover_blue:"#2A6193",hover_red:"#9f2d30",orange_highlight:"#F2950B",gray_text:"#666666",light_gray:"#999999"};function g(){var e=Object(b.a)(["\n    width: 80%;\n    max-width: 500px;\n    display: flex;\n    justify-content: space-between;\n    padding: 0px 30px;\n    a {\n        color: #ffffff;\n    }\n    a:last-child {\n        margin-right: 0;\n    }\n"]);return g=function(){return e},e}function v(){var e=Object(b.a)(["\n    height: 70%;\n    align-items: center;\n    img {\n        height: 100%;\n    }\n"]);return v=function(){return e},e}function x(){var e=Object(b.a)(["\n    width: 85%;\n    max-width: 1500px;\n    height: 100%;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 14px;\n"]);return x=function(){return e},e}function m(){var e=Object(b.a)(["\n    width: 100%;\n    height: 60px;\n    background-color: ",";\n    display: flex;\n    align-items: center;\n"]);return m=function(){return e},e}var O=p.b.div(m(),j.blue),y=p.b.div(x()),w=p.b.div(v()),_=p.b.div(g()),S=function(){return Object(a.jsx)(O,{children:Object(a.jsxs)(y,{children:[Object(a.jsx)(w,{children:Object(a.jsx)("img",{alt:"IO.db",src:"./images/logos/IOdb-logo-white.png"})}),Object(a.jsxs)(_,{children:[Object(a.jsx)(l.b,{to:"/",onClick:function(e){window.location.reload()},children:"Home"}),Object(a.jsx)(l.b,{to:"/",children:"About"}),Object(a.jsx)(l.b,{to:"/",children:"Download"}),Object(a.jsx)(l.b,{to:"/",children:"Contact"})]})]})})};function I(){var e=Object(b.a)(["\n    color: ",";\n    font-size: 10px;\n    a {\n        color: ",";\n    }\n    .divider {\n        margin: 0px 10px;\n    }\n"]);return I=function(){return e},e}function P(){var e=Object(b.a)(["\n    width: 85%;\n    height: 100%;\n    max-width: 1500px;\n    margin-left: auto;\n    margin-right: auto;\n    border-top: 1px solid ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n"]);return P=function(){return e},e}function N(){var e=Object(b.a)(["\n    position relative;\n    bottom: 0%;\n    width: 100%;\n    height: 44px;\n    display: flex;\n    align-items: center;\n"]);return N=function(){return e},e}var C=p.b.div(N()),z=p.b.div(P(),j.blue),E=p.b.div(I(),j.blue,j.blue),k=function(){return Object(a.jsx)(C,{children:Object(a.jsxs)(z,{children:[Object(a.jsxs)(E,{children:[Object(a.jsx)("span",{className:"link",children:"Terms"}),Object(a.jsx)("span",{className:"divider",children:"|"}),Object(a.jsx)("span",{className:"link",children:"Privacy"}),Object(a.jsx)("span",{className:"divider",children:"|"}),Object(a.jsx)("span",{className:"link",children:"Support"})]}),Object(a.jsx)(E,{children:"BHK Lab \xa9 2020-2021"}),Object(a.jsx)(E,{children:Object(a.jsx)("a",{href:"https://www.vecteezy.com/free-vector/background",children:"Background by Vecteezy"})})]})})},D=function(e){var t=e.children;return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(S,{}),Object(a.jsx)("main",{children:t}),Object(a.jsx)(k,{})]})};D.defaultProps={page:"",children:null};var L=D,F=n(6);function M(){var e=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 5px;\n    border: none;\n    font-weight: normal;\n    letter-spacing: 1.5px;\n    width: ",";\n    height: ",";\n    background-color: ",";\n    font-size: ",";\n    color: ",";\n    cursor: ",";\n\n    :hover {\n        background-color: ",";\n        outline: ",";\n    }\n"]);return M=function(){return e},e}var q=p.b.button(M(),(function(e){return e.style.width?e.style.width:"45%"}),(function(e){return e.style.height?e.style.height:"80px"}),(function(e){return e.disabled?j.light_gray:e.color.background}),(function(e){return e.style.fontSize?e.style.fontSize:"20px"}),(function(e){return e.style.fontColor?e.style.fontColor:"#ffffff"}),(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?j.light_gray:e.color.hover}),(function(e){return e.color.hover})),T=function(e){var t=e.onClick,n=e.text,c=e.style,o=Object(i.useState)({background:j.blue,hover:j.hover_blue,ready:!1}),l=Object(f.a)(o,2),s=l[0],u=l[1];return Object(i.useEffect)((function(){switch(e.type){case"reset":u({background:j.red,hover:j.hover_red,ready:!0});break;default:u(Object(F.a)(Object(F.a)({},s),{},{ready:!0}))}}),[]),Object(a.jsx)(r.a.Fragment,{children:s.ready&&Object(a.jsx)(q,{onClick:t,color:s,style:c,disabled:e.disabled,children:n})})},B=n(43),A={control:function(e){return Object(F.a)(Object(F.a)({},e),{},{minHeight:"34px",height:"34px"})},valueContainer:function(e,t){return Object(F.a)(Object(F.a)({},e),{},{height:"34px",padding:"0 5px"})},input:function(e,t){return Object(F.a)(Object(F.a)({},e),{},{margin:"0px"})},indicatorsContainer:function(e,t){return Object(F.a)(Object(F.a)({},e),{},{height:"34px"})}},R=function(e){var t=e.className,n=e.value,i=e.options,r=e.onChange;return Object(a.jsx)(B.a,{className:t,value:n,options:i,onChange:r,styles:A})};function W(){var e=Object(b.a)(["\n    width: ",";\n    margin-top: 30px;\n    display: flex;\n    flex-direction: ",";\n    align-items: center;\n    justify-content: space-between;\n    font-size: 12px;\n\n    .formField {\n        width: ",";\n        display: flex;\n        align-items: center;\n        justify-content: ",";\n        margin-bottom: 10px;\n        margin-right: ",";\n        .label {\n            margin-right: 10px;\n            font-size: 14px;\n        }\n        .select {\n            width: 70%;\n        }\n    }\n\n    .buttonField {\n        display: flex;\n        justify-content: ",";\n    }\n"]);return W=function(){return e},e}var H=p.b.div(W(),(function(e){return"column"===e.flexDirection?"100%":"80%"}),(function(e){return e.flexDirection}),(function(e){return"column"===e.flexDirection?"100%":"30%"}),(function(e){return"column"===e.flexDirection?"space-between":"center"}),(function(e){return"column"===e.flexDirection?"0px":"20px"}),(function(e){return"column"===e.flexDirection?"flex-end":"flex-start"})),G=[{value:"OS",label:"OS",isDisabled:!1},{value:"PFS",label:"PFS",isDisabled:!1},{value:"Response",label:"Response",isDisabled:!1}],V=[{value:"COX",label:"COX",isDisabled:!1},{value:"DI",label:"DI",isDisabled:!1},{value:"Log_regression",label:"Log Regression",isDisabled:!1}],K=[{value:"Sequencing",label:"Sequencing",isDisabled:!1},{value:"Tumor",label:"Tumor",isDisabled:!1},{value:"ALL",label:"Both",isDisabled:!1},{value:"AllThree",label:"All Three",isDisabled:!1}],J=function(e){var t=e.parameters,n=e.setParameters,i=e.onSubmit,r=e.onReset,c=e.resetButton;return Object(a.jsxs)(H,{flexDirection:e.flexDirection,children:[Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Outcome: "}),Object(a.jsx)(R,{className:"select",value:G.filter((function(e){return e.value===t.outcome})),options:G,onChange:function(e){!function(e){var a="";"Response"!==e.value?(V.find((function(e){return"Log_regression"===e.value})).isDisabled=!0,V.filter((function(e){return"Log_regression"!==e.value})).forEach((function(e){e.isDisabled=!1})),a="Log_regression"===t.model&&""):(V.find((function(e){return"Log_regression"===e.value})).isDisabled=!1,V.filter((function(e){return"Log_regression"!==e.value})).forEach((function(e){e.isDisabled=!0})),a="Log_regression"!==t.model&&""),n((function(t){return Object(F.a)(Object(F.a)({},t),{},{model:a,outcome:e.value})}))}(e)}})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Model: "}),Object(a.jsx)(R,{className:"select",value:V.filter((function(e){return e.value===t.model})),options:V,onChange:function(e){n(Object(F.a)(Object(F.a)({},t),{},{model:e.value}))}})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Subgroup: "}),Object(a.jsx)(R,{className:"select",value:K.filter((function(e){return e.value===t.subgroup})),options:K,onChange:function(e){n(Object(F.a)(Object(F.a)({},t),{},{subgroup:e.value}))}})]}),Object(a.jsxs)("div",{className:"formField buttonField",children:[Object(a.jsx)(T,{onClick:function(e){i()},text:"Submit",disabled:""===t.model||""===t.outcome||""===t.subgroup,style:{width:"90px",height:"34px",fontSize:"14px"}}),c&&Object(a.jsx)(T,{onClick:function(e){r()},text:"Reset",type:"reset",style:{width:"90px",height:"34px",fontSize:"14px",marginLeft:"10px"}})]})]})},U=n(48),X=n.n(U),Z=n(49),Q=n.n(Z),Y=n(14),$=n(50),ee=n(15),te=n(32);function ne(){var e=Object(b.a)(["\n    width: 100%;\n    height: 80%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    .tooltip {\n        position: absolute;\n        font-size: 11px; \n        background-color: rgba(242,255,223,0.8); \n        padding: 2px 10px; \n        color: rgb(7,28,44);\n        border-radius: 3;\n    }\n    .pointLink:hover {\n        text-decoration: underline;\n    }\n"]);return ne=function(){return e},e}var ae=p.b.div(ne()),ie=Object(te.withSize)()((function(e){Object(i.useEffect)((function(){t()}),[e.size.width,e.individuals]);var t=function(){var t={width:e.size.width,height:e.size.width},n=8,a=11,i=30,r=200,c=10,o=e.individuals.concat(e.meta),l=e.meta[0],s=function(){return e.individuals},u=function(){return Math.min.apply(Math,Object(Y.a)(o.map((function(e){return Number(e._95ci_low)}))))},d=function(){return Math.max.apply(Math,Object(Y.a)(o.map((function(e){return Number(e._95ci_high)}))))},h=function(e){return ee.a().domain([u(),d()]).range([r,t.width-c])(e)},f=function(e){return ee.a().domain([0,o.length+1]).range([20,460])(e)},b=[u(),Math.round(100*l.effect_size)/100,0,d()],p=function(t,n,a){var i=ee.b("#".concat(e.id,"PlotContainer")).append("div").attr("id",n).attr("class","tooltip").style("left","".concat(h(1)+10,"px")).style("top","".concat(f(t)-30,"px"));a.study?i.html(a.study+" ("+a.primary_tissue+"; "+a.sequencing+")<br />N="+a.n+"<br />hazard ratio="+Number(a.effect_size).toFixed(4)+"<br />P-value="+Number(a.pval).toFixed(4)):i.html("Pooled Effect Size<br />N="+a.n+"<br />hazard ratio="+Number(a.effect_size).toFixed(4)+"<br />P-value="+Number(a.pval).toFixed(4))},g=function(e){ee.b(e).remove()},v=ee.b("#".concat(e.id));v.selectAll("*").remove(),v.attr("width",t.width).attr("height",t.height);var x=v.append("g");x.append("line").attr("id","xAxe").attr("x1",h(u())-r/2).attr("x2",h(d())+i).attr("y1",f(o.length+1)).attr("y2",f(o.length+1)).style("stroke","#0C3544").style("stroke-width","1"),x.append("line").attr("id","yAxe").attr("x1",h(0)).attr("x2",h(0)).attr("y1",f(-2)).attr("y2",f(o.length+1)).style("stroke","#0C3544").style("stroke-width","0.5"),x.append("line").attr("id","yAxe-dash").attr("x1",h(l.effect_size)).attr("x2",h(l.effect_size)).attr("y1",f(-2)).attr("y2",f(o.length+1)).attr("stroke-dasharray","3,4").style("stroke","#EF8020").style("stroke-width","0.5"),Object.keys(b).forEach((function(e,t){x.append("text").attr("id","xTag-"+t).attr("x",h(b[t])).attr("y",f(o.length+2)).attr("font-size",a).attr("font-weight","regular").attr("fill","#0C3544").attr("text-anchor","middle").text(b[t])})),Object.keys(b).forEach((function(e,t){x.append("line").attr("id","xAxeDash"+t).attr("x1",h(b[t])).attr("x2",h(b[t])).attr("y1",f(o.length+1)-5).attr("y2",f(o.length+1)+5).style("stroke","#0C3544").style("stroke-width","0.5")})),x.append("text").attr("x",h(0)).attr("y",f(o.length+2.7)).attr("font-size",a).attr("font-weight","regular").attr("fill","#0C3544").attr("text-anchor","middle").text("Hazard Ratio"),Object.keys(e.individuals).forEach((function(e,t){var i="point-".concat(o[e].study.replace(/[^a-zA-Z]/g,"")),r=v.append("g").attr("id","datapoint-"+t).style("cursor","arrow").on("click",(function(){return console.log(t)})).on("mouseover",(function(){p(e,i,o[e])})).on("mouseout",(function(){g("#".concat(i))}));r.append("a").attr("id","tag-"+t).attr("class","pointLink").attr("xlink:href","/").append("text").attr("x",0).attr("y",f(t)).attr("font-size",a).attr("fill","#0C3544").text("".concat(o[e].study,"(").concat(o[e].primary_tissue,", ").concat(o[e].sequencing,")")),r.append("line").attr("id","interval-"+t).attr("x1",h(Number(o[e]._95ci_low))).attr("x2",h(Number(o[e]._95ci_high))).attr("y1",f(t)).attr("y2",f(t)).style("stroke","#73848E").style("stroke-width","2").append("title").text("95CI:(".concat(s()[e]._95ci_low,", ").concat(s()[e]._95ci_high,")")),r.append("rect").attr("id","datPoint-"+t).attr("x",h(Number(o[e].effect_size))-n/2).attr("y",f(t)-n/2).style("width",n).style("height",n).style("fill","#236e96")}));var m=v.append("g").attr("id","pooled-effect").on("mouseover",(function(){p(o.length,"polygon-tooltip",l)})).on("mouseout",(function(){g("#polygon-tooltip")}));m.append("text").attr("id","tag-pooled-effect").attr("x",0).attr("y",f(o.length)).attr("font-size",a).attr("fill","#0C3544").text("Pooled Effect Sizes"),m.append("polygon").attr("id","diamond").attr("points",h(Number(l._95ci_low))+", "+f(o.length)+" "+h(Number(l.effect_size))+", "+(f(o.length)-n/2)+" "+h(Number(l._95ci_high))+", "+f(o.length)+" "+h(Number(l.effect_size))+", "+(f(o.length)+n/2)+" ").style("fill",j.orange_highlight)};return Object(a.jsx)(ae,{id:"".concat(e.id,"PlotContainer"),children:Object(a.jsx)("svg",{id:e.id})})}));function re(){var e=Object(b.a)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    margin-bottom: 20px;\n    font-size: 12px;\n\n    .title {\n        font-weight: bold;\n    }\n\n    .parameterLine {\n        .value {\n            font-weight: bold;\n        }\n    }\n    \n    .filter {\n        display: flex;\n        flex: 30%;\n        align-items: center;\n        margin-left: 20px;\n        .label {\n            margin-right: 5px;\n        }\n        .dropdown {\n            flex: 30%;\n        }\n        .sortIconBtn {\n            font-size: 14px;\n            margin-left: 10px;\n            background: none;\n            border: none;\n            padding: 0;\n            cursor: pointer;\n            outline: none;\n        }\n    }\n\n    .effectSizeValues {\n        display: flex;\n        .valueLine {\n            margin-left: 15px;\n            .value {\n                margin-left: 5px;\n                font-weight: bold;\n            }\n        }\n    }\n"]);return re=function(){return e},e}function ce(){var e=Object(b.a)(["\n    width: 100%;\n"]);return ce=function(){return e},e}var oe=p.b.div(ce()),le=p.b.div(re()),se=function(e){var t=e.parameters,n=e.forestPlotData,r=Object(i.useState)({ready:!1,individuals:[],meta:[]}),c=Object(f.a)(r,2),o=c[0],l=c[1],s=Object(i.useState)({value:"effect_size",asc:!0}),u=Object(f.a)(s,2),d=u[0],h=u[1],b=Object(i.useState)("all"),p=Object(f.a)(b,2),j=p[0],g=p[1],v=Object(i.useState)("all"),x=Object(f.a)(v,2),m=x[0],O=x[1],y=Object(i.useState)([]),w=Object(f.a)(y,2),_=w[0],S=w[1],I=Object(i.useState)([]),P=Object(f.a)(I,2),N=P[0],C=P[1],z=[{value:"effect_size",label:"Hazard Ratio"},{value:"study",label:"Studies"}];return Object(i.useEffect)((function(){console.log(n.data.individuals);var e=n.data.individuals.map((function(e){return e.primary_tissue}));(e=(e=Object(Y.a)(new Set(e))).map((function(e){return{value:e,label:e,isDisabled:!1}})).sort((function(e,t){return e.label.localeCompare(t.label)}))).unshift({value:"all",label:"All"}),S(e),e=n.data.individuals.map((function(e){return e.sequencing})),(e=(e=Object(Y.a)(new Set(e))).map((function(e){return{value:e,label:e,isDisabled:!1}})).sort((function(e,t){return e.label.localeCompare(t.label)}))).unshift({value:"all",label:"All"}),C(e),l({individuals:Object(Y.a)(n.data.individuals).sort((function(e,t){return e[d.value]-t[d.value]})),meta:n.data.meta,ready:!0})}),[]),Object(i.useEffect)((function(){var e=Object(Y.a)(n.data.individuals);if("all"!==j){e=e.filter((function(e){return e.primary_tissue===j}));var t=Object(Y.a)(new Set(e.map((function(e){return e.sequencing}))));N.forEach((function(e){e.isDisabled=!t.includes(e.value)&&"all"!==e.value}))}else N.forEach((function(e){e.isDisabled=!1}));if("all"!==m){e=e.filter((function(e){return e.sequencing===m}));var a=Object(Y.a)(new Set(e.map((function(e){return e.primary_tissue}))));_.forEach((function(e){e.isDisabled=!a.includes(e.value)&&"all"!=e.value}))}else _.forEach((function(e){e.isDisabled=!1}));"effect_size"===d.value?e.sort((function(e,t){return d.asc?e[d.value]-t[d.value]:t[d.value]-e[d.value]})):(e.sort((function(e,t){return e[d.value]-t[d.value]})),d.asc||e.reverse()),e.sort((function(e,t){return d.asc?e[d.value]-t[d.value]:t[d.value]-e[d.value]})),l((function(t){return Object(F.a)(Object(F.a)({},t),{},{individuals:e})}))}),[d,j,m]),Object(a.jsx)("div",{children:o.ready&&Object(a.jsxs)(oe,{children:[Object(a.jsx)("h3",{children:"Forest Plot"}),Object(a.jsxs)(le,{children:[Object(a.jsxs)("div",{className:"parameterLine",children:["Signature: ",Object(a.jsx)("span",{className:"value",children:t.signature})]}),Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsx)("span",{className:"label",children:"Sort By:"}),Object(a.jsx)(R,{className:"dropdown",value:z.find((function(e){return e.value===d.value})),options:z,onChange:function(e){h((function(t){return Object(F.a)(Object(F.a)({},t),{},{value:e.value})}))}}),Object(a.jsx)("button",{className:"sortIconBtn",onClick:function(e){h((function(e){return Object(F.a)(Object(F.a)({},e),{},{asc:!e.asc})}))},children:d.asc?Object(a.jsx)($.a,{}):Object(a.jsx)($.b,{})})]})]}),Object(a.jsxs)(le,{children:[Object(a.jsx)("div",{className:"title",children:"Filter By: "}),Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsx)("span",{className:"label",children:"Tissue Type:"}),Object(a.jsx)(R,{className:"dropdown",value:_.find((function(e){return e.value===j})),options:_,onChange:function(e){g(e.value)}})]}),Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsx)("span",{className:"label",children:"Sequencing Type:"}),Object(a.jsx)(R,{className:"dropdown",value:N.find((function(e){return e.value===m})),options:N,onChange:function(e){O(e.value)}})]})]}),Object(a.jsxs)(le,{children:[Object(a.jsx)("div",{className:"title",children:"Pooled Effect Sizes: "}),Object(a.jsxs)("div",{className:"effectSizeValues",children:[Object(a.jsxs)("div",{className:"valueLine",children:["P-value: ",Object(a.jsx)("span",{className:"value",children:Number(o.meta[0].pval).toFixed(3)})]}),Object(a.jsxs)("div",{className:"valueLine",children:["Coef: ",Object(a.jsx)("span",{className:"value",children:Number(o.meta[0].se).toFixed(3)})]}),Object(a.jsxs)("div",{className:"valueLine",children:["95CI Low: ",Object(a.jsx)("span",{className:"value",children:Number(o.meta[0]._95ci_low).toFixed(3)})]}),Object(a.jsxs)("div",{className:"valueLine",children:["95CI High: ",Object(a.jsx)("span",{className:"value",children:Number(o.meta[0]._95ci_high).toFixed(3)})]})]})]}),Object(a.jsx)(ie,{id:"forestplot",individuals:o.individuals,meta:o.meta})]})})},ue=n(67),de=n.n(ue),he=n(68),fe=n.n(he)()(de.a),be=Object(te.withSize)()((function(e){var t=e.data,n=e.plotId,r=e.getForestPlotData,c=e.parameters,o=e.setParameters,l=Object(i.useState)({x:[],y:[],hovertext:[],pointColor:[],pointSize:[]}),s=Object(f.a)(l,2),u=s[0],d=s[1],h=Object(i.useState)(null),b=Object(f.a)(h,2),p=b[0],g=b[1];Object(i.useEffect)((function(){console.log(t),d({x:t.map((function(e){return e.effect_size})),y:t.map((function(e){return e.logPval})),click_ids:t.map((function(e,t){return t})),hovertext:O(t),pointColor:x(t),pointSize:v(t),pointLine:m(t)})}),[]),Object(i.useEffect)((function(){if(p){console.log(p);var e=x(t,p),n=m(t,p);d(Object(F.a)(Object(F.a)({},u),{},{pointColor:e,pointLine:n}))}}),[p]);var v=function(e){var t=[];return e.forEach((function(e){e.se<=.05?t.push(6):e.se>.05&&e.se<=.1?t.push(8):e.se>.1&&e.se<=.15?t.push(10):e.se>.15&&t.push(12)})),t},x=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],a=0;a<e.length;a++)a!==t?e[a].logPval<-Math.log10(.05)?n.push(j.gray_text):e[a].effect_size>0?n.push(j.red):n.push(j.blue):n.push(j.orange_highlight);return n},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],a=[];return e.forEach((function(e,i){i===t?(n.push(j.gray_text),a.push(2)):(n.push(void 0),a.push(0))})),{color:n,width:a}},O=function(e){var t=[];return e.forEach((function(e){t.push("Subgroup: ".concat(e.subgroup,"<br>Signature: ").concat(e.signature,"<br>Coef: ").concat(Math.round(1e3*e.effect_size)/1e3,"<br>P-value: ").concat(Math.round(1e4*e.pval)/1e4,"<br>I2: ").concat(Math.round(1e4*e.i2)/1e4,"<br>P-value I2: ").concat(Math.round(1e3*e.pval_i2)/1e3))})),t};return Object(a.jsx)("div",{children:Object(a.jsx)(fe,{data:[{showlegend:!1,type:"scatter",mode:"markers",x:u.x,y:u.y,click_ids:u.click_ids,hoverinfo:"text",hovertext:u.hovertext,marker:{color:u.pointColor,size:u.pointSize,line:u.pointLine},name:"points"}],layout:{width:e.size.width,height:.8*e.size.width,autosize:!0,paper_bgcolor:"white",plot_bgcolor:"white",orientation:"v",yaxis:{ticklen:0,title:"-log10(p value)"},xaxis:{title:"Hazard Ratio",zeroline:!1},hovermode:"closest",font:{size:11,family:"Noto Sans"},margin:{l:45,r:10,t:10,b:40},shapes:[{type:"line",xref:"paper",x0:0,y0:-Math.log10(.05),x1:1,y1:-Math.log10(.05),line:{color:j.light_gray,width:2,dash:"dot"}},{type:"line",xref:"x",yref:"paper",x0:0,y0:0,x1:0,y1:1,line:{color:j.light_gray,width:2,dash:"dot"}}]},graphDiv:n,config:{responsive:!0,displayModeBar:!1},onClick:function(t){return function(t){var n=e.data[t.points[0].pointIndex];console.log(n),g(t.points[0].pointIndex),o(Object(F.a)(Object(F.a)({},c),{},{signature:n.signature})),r({signature:n.signature,outcome:n.outcome,model:n.model})}(t)},onHover:function(){ee.c(".nsewdrag").style("cursor","pointer")},onUnhover:function(){ee.c(".nsewdrag").style("cursor","")}})})}));function pe(){var e=Object(b.a)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n    font-size: 12px;\n    .parameterLine {\n        margin-right: 20px;\n    }\n    .value {\n        font-weight: bold;\n    }\n"]);return pe=function(){return e},e}function je(){var e=Object(b.a)(["\n    width: 100%;\n    margin-bottom: 30px;\n"]);return je=function(){return e},e}var ge=p.b.div(je()),ve=p.b.div(pe()),xe=function(e){var t=e.parameters,n=e.setParameters,i=e.volcanoPlotData,r=e.getForestPlotData;return Object(a.jsxs)(ge,{children:[Object(a.jsx)("h3",{children:"Volcano Plot"}),Object(a.jsxs)(ve,{children:[Object(a.jsxs)("div",{className:"parameterLine",children:["Outcome: ",Object(a.jsx)("span",{className:"value",children:t.outcome})]}),Object(a.jsxs)("div",{className:"parameterLine",children:["Model: ",Object(a.jsx)("span",{className:"value",children:t.model})]}),Object(a.jsxs)("div",{className:"parameterLine",children:["Subgroup: ",Object(a.jsx)("span",{className:"value",children:t.subgroup})]})]}),Object(a.jsx)(be,{plotId:"volcano-plot",parameters:t,setParameters:n,data:i.data,getForestPlotData:r})]})};function me(){var e=Object(b.a)(["\n    width: 100%;\n    height: 500px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return me=function(){return e},e}function Oe(){var e=Object(b.a)(["\n    width: ",";\n    // min-width: 400px;\n    padding 10px;\n"]);return Oe=function(){return e},e}function ye(){var e=Object(b.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    .volcano {\n        width: 35%;\n    }\n    .forest {\n        width: 65%;\n    }\n"]);return ye=function(){return e},e}function we(){var e=Object(b.a)(["\n    width: 100%;\n"]);return we=function(){return e},e}var _e=p.b.div(we()),Se=p.b.div(ye()),Ie=p.b.div(Oe(),(function(e){return e.width})),Pe=p.b.div(me()),Ne=function(e){var t=e.parameters,n=e.setParameters,r=Object(i.useState)({data:{},ready:!1}),c=Object(f.a)(r,2),o=c[0],l=c[1],s=Object(i.useState)({data:{},loading:!1,ready:!1}),u=Object(f.a)(s,2),b=u[0],p=u[1],g=function(){var e=Object(h.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({data:{},ready:!1}),p({data:{},loading:!1,ready:!1}),e.next=4,X.a.post("/api/explore/volcano_plot",t);case 4:n=e.sent,l({data:n.data,ready:!0});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({data:{},loading:!0,ready:!1}),e.next=3,X.a.post("/api/explore/forest_plot",t);case 3:n=e.sent,p({data:n.data,loading:!1,ready:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){g()}),[]),Object(a.jsxs)(_e,{children:[Object(a.jsx)("h3",{children:"Explore pre-computed signature data"}),Object(a.jsx)(J,{parameters:t,setParameters:n,onSubmit:g,flexDirection:"row",resetButton:!0,onReset:function(){window.location.reload()}}),Object(a.jsxs)(Se,{children:[Object(a.jsx)(Ie,{width:"40%",children:o.ready?Object(a.jsx)(xe,{parameters:t,setParameters:n,volcanoPlotData:o,getForestPlotData:v}):Object(a.jsx)(Pe,{children:Object(a.jsx)(Q.a,{type:"Oval",color:j.blue,height:80,width:80})})}),Object(a.jsx)(Ie,{width:"60%",children:b.ready?Object(a.jsx)(se,{parameters:t,forestPlotData:b}):b.loading?Object(a.jsx)(Pe,{children:Object(a.jsx)(Q.a,{type:"Oval",color:j.blue,height:80,width:80})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Forest Plot"}),Object(a.jsx)("div",{children:"Click on a signature point on the volcano plot to display a corresponding forest plot."})]})})]})]})};function Ce(){var e=Object(b.a)(["\n    width: 90%;\n    max-width: 550px;\n    min-width: 415px;\n    display: flex;\n    flex-direction: column;\n    aling-items: center;\n    margin-top: 30px;\n\n    .subText {\n        font-size: 20px;\n        font-weight: bold;\n    }\n"]);return Ce=function(){return e},e}function ze(){var e=Object(b.a)(["\n    width: 90%;\n    max-width: 550px;\n    min-width: 415px;\n    margin-top: 20px;\n    margin-bottom: 20px;\n    line-height: 1.5;\n    letter-spacing: 1.5px;\n"]);return ze=function(){return e},e}function Ee(){var e=Object(b.a)(["\n    height: 100px;\n    img {\n        height: 100%;\n    }\n"]);return Ee=function(){return e},e}function ke(){var e=Object(b.a)(["\n    width: 100%;\n    height: calc(100vh - 105px);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return ke=function(){return e},e}var De=p.b.div(ke()),Le=p.b.div(Ee()),Fe=p.b.div(ze()),Me=p.b.div(Ce()),qe=function(){var e=Object(i.useState)(!0),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)({signature:"",outcome:"",model:"",subgroup:""}),o=Object(f.a)(c,2),l=o[0],s=o[1],u=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(L,{children:n?Object(a.jsxs)(De,{children:[Object(a.jsx)(Le,{children:Object(a.jsx)("img",{alt:"IO.db",src:"./images/logos/IOdb-logo-main.png"})}),Object(a.jsxs)(Fe,{children:["Investigate predictive and prognostic values of your gene.",Object(a.jsx)("br",{}),"Predict a patient response to ICB therapy."]}),Object(a.jsxs)(Me,{children:[Object(a.jsx)("div",{className:"subText",children:"Explore pre-computed signature data"}),Object(a.jsx)(J,{parameters:l,setParameters:s,onSubmit:u,flexDirection:"column"})]})]}):Object(a.jsx)(Ne,{parameters:l,setParameters:s})})},Te=[{study:"Braun",Primary:"Kidney",Sequencing:"WES",N:"207",coef:"1.31",SE:"1","95CI_low":"-0.63","95CI_high":"3.3",Pval:"0.19116187669392",I2:"",Pval_I2:"","":""},{study:"Hugo",Primary:"Melanoma",Sequencing:"WES",N:"38",coef:"-1.15",SE:"0.88","95CI_low":"-3.03","95CI_high":"0.51",Pval:"0.192069400517325",I2:"",Pval_I2:"","":""},{study:"Jung",Primary:"Lung",Sequencing:"WES",N:"58",coef:"-2.89",SE:"1.87","95CI_low":"-6.81","95CI_high":"0.72",Pval:"0.12320240249438",I2:"",Pval_I2:"","":""},{study:"Liu",Primary:"Melanoma",Sequencing:"WES",N:"133",coef:"-0.6",SE:"0.33","95CI_low":"-1.27","95CI_high":"0.04",Pval:"0.0699389753777812",I2:"",Pval_I2:"","":""},{study:"Mariathasan",Primary:"Bladder",Sequencing:"TGS",N:"111",coef:"-1.4",SE:"0.76","95CI_low":"-3.01","95CI_high":"-0.01",Pval:"0.0654101643137176",I2:"",Pval_I2:"","":""},{study:"Mariathasan",Primary:"Kidney",Sequencing:"TGS",N:"41",coef:"-4.15",SE:"1.97","95CI_low":"-8.51","95CI_high":"-0.67",Pval:"0.0354133425733776",I2:"",Pval_I2:"","":""},{study:"Miao.1",Primary:"Kidney",Sequencing:"WES",N:"26",coef:"6.64",SE:"4.65","95CI_low":"-1.94","95CI_high":"16.66",Pval:"0.153071317449668",I2:"",Pval_I2:"","":""},{study:"Miao.2",Primary:"Bladder",Sequencing:"WES",N:"23",coef:"-4.06",SE:"2.01","95CI_low":"-8.59","95CI_high":"-0.55",Pval:"0.0429795958386913",I2:"",Pval_I2:"","":""},{study:"Miao.2",Primary:"Lung",Sequencing:"WES",N:"46",coef:"-4.08",SE:"1.32","95CI_low":"-7.01","95CI_high":"-1.77",Pval:"0.00206350292809808",I2:"",Pval_I2:"","":""},{study:"Miao.2",Primary:"Melanoma",Sequencing:"WES",N:"121",coef:"-0.9",SE:"0.41","95CI_low":"-1.74","95CI_high":"-0.11",Pval:"0.0282676251140886",I2:"",Pval_I2:"","":""},{study:"Nathanson",Primary:"Melanoma",Sequencing:"WES",N:"64",coef:"-1.9",SE:"0.74","95CI_low":"-3.47","95CI_high":"-0.53",Pval:"0.0103990433952875",I2:"",Pval_I2:"","":""},{study:"Riaz",Primary:"Melanoma",Sequencing:"WES",N:"42",coef:"-0.88",SE:"0.59","95CI_low":"-2.1","95CI_high":"0.26",Pval:"0.136832503169481",I2:"",Pval_I2:"","":""},{study:"Rizvi.15",Primary:"Lung",Sequencing:"WES",N:"27",coef:"-3.34",SE:"1.54","95CI_low":"-6.88","95CI_high":"-0.68",Pval:"0.0299558614957989",I2:"",Pval_I2:"","":""},{study:"Rizvi.18",Primary:"Lung",Sequencing:"TGS",N:"29",coef:"-1.91",SE:"1.43","95CI_low":"-5.05","95CI_high":"0.74",Pval:"0.181139430451187",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"Esophagus",Sequencing:"TGS",N:"21",coef:"-0.26",SE:"1.57","95CI_low":"-3.28","95CI_high":"2.68",Pval:"0.86966691869969",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"HNC",Sequencing:"TGS",N:"72",coef:"0.23",SE:"0.56","95CI_low":"-0.91","95CI_high":"1.31",Pval:"0.677660893752833",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"Melanoma",Sequencing:"TGS",N:"108",coef:"-1",SE:"0.33","95CI_low":"-1.66","95CI_high":"-0.37",Pval:"0.00232570823833877",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"Unknown",Sequencing:"TGS",N:"29",coef:"-2.78",SE:"0.88","95CI_low":"-4.72","95CI_high":"-1.22",Pval:"0.0015732380306142",I2:"",Pval_I2:"","":""},{study:"Snyder",Primary:"Ureteral",Sequencing:"WES",N:"22",coef:"-1.02",SE:"0.88","95CI_low":"-2.92","95CI_high":"0.62",Pval:"0.24338559549317",I2:"",Pval_I2:"","":""},{study:"Van_Allen",Primary:"Melanoma",Sequencing:"WES",N:"104",coef:"-0.52",SE:"0.49","95CI_low":"-1.5","95CI_high":"0.45",Pval:"0.288334147400417",I2:"",Pval_I2:"","":""},{study:"Meta-analysis",Primary:"ALL",Sequencing:"",N:"1322",coef:"-1.1",SE:"0.24","95CI_low":"-1.57","95CI_high":"-0.63",Pval:"4.09577538170971E-06",I2:"0.46",Pval_I2:"0.0128496553144055","":""}];n(69);function Be(){var e=Object(b.a)(["\n    width: 100%;\n    height: 100%;\n    margin-top: 40px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return Be=function(){return e},e}p.b.div(Be());var Ae=Te,Re=Te[Te.length-1],We=function(){return Math.min.apply(Math,Object(Y.a)(Ae.map((function(e){return Number(e["95CI_low"])}))))},He=function(){return Math.max.apply(Math,Object(Y.a)(Ae.map((function(e){return Number(e["95CI_high"])}))))};We(),Re.coef,He();function Ge(){var e=Object(b.a)(["\n    html, body {\n        height: 100%;\n        margin: 0;\n    }\n    // html {\n    //     background-image: url('./images/background.png');\n    //     background-size: cover;\n    //     background-position: center;\n    //     background-repeat: no-repeat;\n    // }\n\n    body {\n        color: ",";\n        font-family: 'Noto Sans', sans-serif;\n        font-weight: 400;\n    }\n\n    #root {\n        height: 100%;\n        min-height: 100vh;\n    }\n\n    main {\n        min-height: calc(100vh - 105px);\n        width: 85%;\n        max-width: 1500px;\n        margin-left: auto;\n        margin-right: auto;\n        display: flex;\n        flex-direction: column;\n    }\n\n    a {\n        text-decoration: none;\n        transition: all 0.25s ease-out 0s;\n    }\n\n    a:hover {\n        transition: all 0.25s ease-out 0s;\n    }\n"]);return Ge=function(){return e},e}var Ve=Object(p.a)(Ge(),j.gray_text),Ke=function(){return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(Ve,{}),Object(a.jsx)(l.a,{children:Object(a.jsx)(s.c,{children:Object(a.jsx)(s.a,{path:"/",exact:!0,component:qe})})})]})},Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};o.a.render(Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(Ke,{})}),document.getElementById("root")),Je()}},[[159,1,2]]]);
//# sourceMappingURL=main.f3960f88.chunk.js.map