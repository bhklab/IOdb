(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{173:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n.n(r),c=n(14),o=n.n(c),s=n(23),l=n(11),u=n(9),d=n.n(u),b=n(13),p=n(7),j=n(4),h=n(5),f={blue:"#3375B1",red:"#b13336",hover_blue:"#2A6193",hover_red:"#9f2d30",orange_highlight:"#F2950B",gray_text:"#666666",light_gray:"#999999"};function x(){var e=Object(j.a)(["\n    width: 80%;\n    max-width: 500px;\n    display: flex;\n    justify-content: space-between;\n    padding: 0px 30px;\n    a {\n        color: #ffffff;\n    }\n    a:last-child {\n        margin-right: 0;\n    }\n"]);return x=function(){return e},e}function g(){var e=Object(j.a)(["\n    height: 70%;\n    align-items: center;\n    img {\n        height: 100%;\n    }\n"]);return g=function(){return e},e}function m(){var e=Object(j.a)(["\n    width: 85%;\n    max-width: 1500px;\n    height: 100%;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 14px;\n"]);return m=function(){return e},e}function v(){var e=Object(j.a)(["\n    width: 100%;\n    height: 60px;\n    background-color: ",";\n    display: flex;\n    align-items: center;\n"]);return v=function(){return e},e}var O=h.b.div(v(),f.blue),y=h.b.div(m()),w=h.b.div(g()),_=h.b.div(x()),S=function(){return Object(a.jsx)(O,{children:Object(a.jsxs)(y,{children:[Object(a.jsx)(w,{children:Object(a.jsx)("img",{alt:"IO.db",src:"./images/logos/IOdb-logo-white.png"})}),Object(a.jsxs)(_,{children:[Object(a.jsx)(s.b,{to:"/",children:"Home"}),Object(a.jsx)(s.b,{to:"/explore/signature/request",children:"Gene Signature"}),Object(a.jsx)(s.b,{to:"/",children:"About"}),Object(a.jsx)(s.b,{to:"/",children:"Download"}),Object(a.jsx)(s.b,{to:"/",children:"Contact"})]})]})})};function N(){var e=Object(j.a)(["\n    color: ",";\n    font-size: 10px;\n    a {\n        color: ",";\n    }\n    .divider {\n        margin: 0px 10px;\n    }\n"]);return N=function(){return e},e}function P(){var e=Object(j.a)(["\n    width: 85%;\n    height: 100%;\n    max-width: 1500px;\n    margin-left: auto;\n    margin-right: auto;\n    border-top: 1px solid ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n"]);return P=function(){return e},e}function I(){var e=Object(j.a)(["\n    position relative;\n    bottom: 0%;\n    width: 100%;\n    height: 44px;\n    display: flex;\n    align-items: center;\n"]);return I=function(){return e},e}var C=h.b.div(I()),k=h.b.div(P(),f.blue),z=h.b.div(N(),f.blue,f.blue),L=function(){return Object(a.jsx)(C,{children:Object(a.jsxs)(k,{children:[Object(a.jsxs)(z,{children:[Object(a.jsx)("span",{className:"link",children:"Terms"}),Object(a.jsx)("span",{className:"divider",children:"|"}),Object(a.jsx)("span",{className:"link",children:"Privacy"}),Object(a.jsx)("span",{className:"divider",children:"|"}),Object(a.jsx)("span",{className:"link",children:"Support"})]}),Object(a.jsx)(z,{children:"BHK Lab \xa9 2020-2021"})]})})};function E(){var e=Object(j.a)(["\n    height: 100vh;\n    width: 85%;\n    max-width: 1500px;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    flex-direction: column;\n"]);return E=function(){return e},e}var T=h.b.main(E()),q=function(e){var t=e.children;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(S,{}),Object(a.jsx)(T,{children:t}),Object(a.jsx)(L,{})]})};q.defaultProps={page:"",children:null};var D=q,F=n(6),M=n(15),A=n.n(M);function B(){var e=Object(j.a)(["\n    width: ",";\n    margin-top: 30px;\n    display: flex;\n    flex-direction: ",";\n    align-items: center;\n    justify-content: space-between;\n    font-size: 12px;\n\n    .formField {\n        width: ",";\n        display: flex;\n        align-items: center;\n        justify-content: ",";\n        margin-bottom: 10px;\n        margin-right: ",";\n        .label {\n            margin-right: 10px;\n            font-size: 14px;\n        }\n        .input {\n            width: 70%;\n        }\n    }\n\n    .buttonField {\n        display: flex;\n        justify-content: ",";\n    }\n"]);return B=function(){return e},e}var G=h.b.div(B(),(function(e){return"column"===e.flexDirection?"100%":"80%"}),(function(e){return e.flexDirection}),(function(e){return"column"===e.flexDirection?"100%":"30%"}),(function(e){return"column"===e.flexDirection?"space-between":"center"}),(function(e){return"column"===e.flexDirection?"0px":"20px"}),(function(e){return"column"===e.flexDirection?"flex-end":"flex-start"}));function R(){var e=Object(j.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 5px;\n    border: none;\n    font-weight: normal;\n    letter-spacing: 1.5px;\n    width: ",";\n    height: ",";\n    background-color: ",";\n    font-size: ",";\n    color: ",";\n    cursor: ",";\n\n    :hover {\n        background-color: ",";\n        outline: ",";\n    }\n"]);return R=function(){return e},e}var W=h.b.button(R(),(function(e){return e.style.width?e.style.width:"45%"}),(function(e){return e.style.height?e.style.height:"80px"}),(function(e){return e.disabled?f.light_gray:e.color.background}),(function(e){return e.style.fontSize?e.style.fontSize:"20px"}),(function(e){return e.style.fontColor?e.style.fontColor:"#ffffff"}),(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?f.light_gray:e.color.hover}),(function(e){return e.color.hover})),H=function(e){var t=e.onClick,n=e.text,c=e.style,o=Object(r.useState)({background:f.blue,hover:f.hover_blue,ready:!1}),s=Object(p.a)(o,2),l=s[0],u=s[1];return Object(r.useEffect)((function(){switch(e.type){case"reset":u({background:f.red,hover:f.hover_red,ready:!0});break;default:u(Object(F.a)(Object(F.a)({},l),{},{ready:!0}))}}),[]),Object(a.jsx)(i.a.Fragment,{children:l.ready&&Object(a.jsx)(W,{onClick:t,color:l,style:c,disabled:e.disabled,children:n})})},J=n(76);function K(){var e=Object(j.a)(["\n    .pi {\n        color: ",";\n        font-size: 0.7rem;\n    }\n    .p-dropdown-items .p-dropdown-item {\n        color: ",";\n    }\n    .p-dropdown-label, .p-dropdown-item {\n        font-family: 'Noto Sans', sans-serif;\n        font-size: 12px;\n    }\n"]);return K=function(){return e},e}var V=Object(h.b)(J.Dropdown)(K(),f.gray_text,f.gray_text),U=function(e){var t=e.className,n=e.value,r=e.options,i=e.onChange,c=e.placeholder,o=e.disabled;return Object(a.jsx)(V,{className:t,value:n,options:r,onChange:i,placeholder:c,disabled:o})},X=n(77);function Z(){var e=Object(j.a)(["\n    .p-multiselect-header .p-checkbox {\n        display: ",";\n    }\n    .p-multiselect-trigger .pi {\n        color: ",";\n        font-size: 0.7rem;\n    }\n    .p-multiselect-items .p-multiselect-item {\n        color: ",";\n        font-family: 'Noto Sans', sans-serif;\n        font-size: 12px;\n    }\n    .p-multiselect-label-container {\n        font-family: 'Noto Sans', sans-serif;\n        font-size: 12px;\n    }\n    .p-multiselect-filter-container input {\n        font-size: 12px;\n    }\n    .selected-item {\n        margin-right: 5px;\n    }\n"]);return Z=function(){return e},e}var $=Object(h.b)(X.MultiSelect)(Z(),(function(e){return e.checkbox?"block":"none"}),f.gray_text,f.gray_text),Q=function(e){return e?Object(a.jsx)("span",{className:"selected-item",children:e}):"Select..."},Y=function(e){var t=e.className,n=e.value,r=e.options,i=e.onChange,c=e.placeholder,o=e.disabled,s=e.checkbox;return Object(a.jsx)($,{className:t,value:n,options:r,onChange:i,selectedItemTemplate:Q,filter:!0,placeholder:c,disabled:o,checkbox:s})},ee=function(e){var t=e.parameters,n=e.setParameters,i=e.onSubmit,c=e.onReset,o=e.resetButton,s=Object(r.useState)([]),l=Object(p.a)(s,2),u=l[0],j=l[1],h=Object(r.useState)([]),f=Object(p.a)(h,2),x=f[0],g=f[1],m=Object(r.useState)([]),v=Object(p.a)(m,2),O=v[0],y=v[1];return Object(r.useEffect)((function(){(function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/dropdown_option/explore");case 2:t=e.sent,console.log(t.data),(n=t.data.signatures.map((function(e){return{value:e,label:e,disabled:!0}}))).unshift({value:"ALL",label:"ALL",disabled:!1}),j(n),g(t.data.outcome.map((function(e){return{value:e,label:e,disabled:!1}}))),y(t.data.model.map((function(e){return{value:e,label:e,disabled:!1}})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsxs)(G,{flexDirection:e.flexDirection,children:[Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Outcome: "}),Object(a.jsx)(U,{className:"input",value:t.outcome,options:x,onChange:function(e){!function(e){var a="",r=JSON.parse(JSON.stringify(O));"Response"!==e.value?(r.find((function(e){return"Log_regression"===e.value})).isDisabled=!0,r.filter((function(e){return"Log_regression"!==e.value})).forEach((function(e){e.isDisabled=!1})),a="Log_regression"===t.model&&""):(r.find((function(e){return"Log_regression"===e.value})).isDisabled=!1,r.filter((function(e){return"Log_regression"!==e.value})).forEach((function(e){e.isDisabled=!0})),a="Log_regression"!==t.model&&""),a="Response"===e.value?"Log_regression":"DI"===t.model?"DI":"COX",y(r),n((function(t){return Object(F.a)(Object(F.a)({},t),{},{model:a,outcome:e.value})}))}(e)},placeholder:"Select..."})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Model: "}),Object(a.jsx)(U,{className:"input",value:t.model,options:O.filter((function(e){return!0!==e.isDisabled})),onChange:function(e){!function(e){var a="Log_regression"===e.value?"Response":"PFS"===t.outcome?"PFS":"OS";n((function(t){return Object(F.a)(Object(F.a)({},t),{},{model:e.value,outcome:a})}))}(e)},placeholder:"Select..."})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Signatures: "}),Object(a.jsx)(Y,{className:"input",value:t.signatures,options:u,onChange:function(e){!function(e){var a=JSON.parse(JSON.stringify(u));e.value.includes("ALL")?(a.forEach((function(e){"ALL"===e.value?e.disabled=!1:e.disabled=!0})),e.value=e.value.filter((function(e){return"ALL"===e}))):a.forEach((function(e){e.disabled=!1})),j(a),n(Object(F.a)(Object(F.a)({},t),{},{signatures:e.value}))}(e)},filter:!0,placeholder:"Select..."})]}),Object(a.jsxs)("div",{className:"formField buttonField",children:[Object(a.jsx)(H,{onClick:function(e){i()},text:"Submit",disabled:""===t.model||""===t.outcome||""===t.subgroup,style:{width:"90px",height:"34px",fontSize:"14px"}}),o&&Object(a.jsx)(H,{onClick:function(e){c()},text:"Reset",type:"reset",style:{width:"90px",height:"34px",fontSize:"14px",marginLeft:"10px"}})]})]})},te=n(29),ne=n.n(te),ae=n(78),re=n.n(ae),ie=n(79),ce=n.n(ie),oe=n(41),se=n(19),le=ce()(re.a),ue=Object(oe.withSize)()((function(e){var t=e.data,n=e.plotId,i=e.getForestPlotData,c=e.parameters,o=e.setParameters,s=Object(r.useState)({x:[],y:[],hovertext:[],pointColor:[],pointSize:[]}),l=Object(p.a)(s,2),u=l[0],d=l[1],b=Object(r.useState)(null),j=Object(p.a)(b,2),h=j[0],x=j[1];Object(r.useEffect)((function(){console.log(t),d({x:t.map((function(e){return e.effect_size})),y:t.map((function(e){return e.logPval})),click_ids:t.map((function(e,t){return t})),hovertext:O(t),pointColor:m(t),pointSize:g(t),pointLine:v(t)})}),[]),Object(r.useEffect)((function(){if(h){console.log(h);var e=m(t,h),n=v(t,h);d(Object(F.a)(Object(F.a)({},u),{},{pointColor:e,pointLine:n}))}}),[h]);var g=function(e){var t=[];return e.forEach((function(e){e.se<=.05?t.push(6):e.se>.05&&e.se<=.1?t.push(8):e.se>.1&&e.se<=.15?t.push(10):e.se>.15&&t.push(12)})),t},m=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],a=0;a<e.length;a++)a!==t?e[a].logPval<-Math.log10(.05)?n.push(f.gray_text):e[a].effect_size>0?n.push(f.red):n.push(f.blue):n.push(f.orange_highlight);return n},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],a=[];return e.forEach((function(e,r){r===t?(n.push(f.gray_text),a.push(2)):(n.push(void 0),a.push(0))})),{color:n,width:a}},O=function(e){var t=[];return e.forEach((function(e){t.push("Subgroup: ".concat(e.subgroup,"<br>Signature: ").concat(e.signature,"<br>Coef: ").concat(Math.round(1e3*e.effect_size)/1e3,"<br>P-value: ").concat(Math.round(1e4*e.pval)/1e4,"<br>I2: ").concat(Math.round(1e4*e.i2)/1e4,"<br>P-value I2: ").concat(Math.round(1e3*e.pval_i2)/1e3))})),t};return Object(a.jsx)("div",{children:Object(a.jsx)(le,{data:[{showlegend:!1,type:"scatter",mode:"markers",x:u.x,y:u.y,click_ids:u.click_ids,hoverinfo:"text",hovertext:u.hovertext,marker:{color:u.pointColor,size:u.pointSize,line:u.pointLine},name:"points"}],layout:{width:e.size.width,height:.8*e.size.width,autosize:!0,paper_bgcolor:"white",plot_bgcolor:"white",orientation:"v",yaxis:{ticklen:0,title:"-log10(p value)"},xaxis:{title:"Hazard Ratio",zeroline:!1},hovermode:"closest",font:{size:11,family:"Noto Sans"},margin:{l:45,r:10,t:10,b:40},shapes:[{type:"line",xref:"paper",x0:0,y0:-Math.log10(.05),x1:1,y1:-Math.log10(.05),line:{color:f.light_gray,width:2,dash:"dot"}},{type:"line",xref:"x",yref:"paper",x0:0,y0:0,x1:0,y1:1,line:{color:f.light_gray,width:2,dash:"dot"}}]},graphDiv:n,config:{responsive:!0,displayModeBar:!1},onClick:function(t){return function(t){var n=e.data[t.points[0].pointIndex];console.log(n),x(t.points[0].pointIndex),o(Object(F.a)(Object(F.a)({},c),{},{signature:n.signature})),i({signature:n.signature,outcome:n.outcome,model:n.model})}(t)},onHover:function(){se.c(".nsewdrag").style("cursor","pointer")},onUnhover:function(){se.c(".nsewdrag").style("cursor","")}})})}));function de(){var e=Object(j.a)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n    font-size: 12px;\n    .parameterLine {\n        margin-right: 20px;\n    }\n    .value {\n        font-weight: bold;\n    }\n"]);return de=function(){return e},e}function be(){var e=Object(j.a)(["\n    width: 100%;\n    margin-bottom: 30px;\n"]);return be=function(){return e},e}var pe=h.b.div(be()),je=h.b.div(de()),he=function(e){var t=e.parameters,n=e.setParameters,r=e.volcanoPlotData,i=e.getForestPlotData,c=e.onthefly;return Object(a.jsxs)(pe,{children:[Object(a.jsx)("h3",{children:"Volcano Plot"}),Object(a.jsxs)(je,{children:[Object(a.jsxs)("div",{className:"parameterLine",children:["Outcome: ",Object(a.jsx)("span",{className:"value",children:t.outcome})]}),Object(a.jsxs)("div",{className:"parameterLine",children:["Model: ",Object(a.jsx)("span",{className:"value",children:t.model})]}),c?"":Object(a.jsxs)("div",{className:"parameterLine",children:["Subgroup: ",Object(a.jsx)("span",{className:"value",children:t.subgroup})]})]}),Object(a.jsx)(ue,{plotId:"volcano-plot",parameters:t,setParameters:n,data:r.data,getForestPlotData:i})]})},fe=n(21),xe=n(57);function ge(){var e=Object(j.a)(["\n  width: 100%;\n  height: 80%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .tooltip {\n    position: absolute;\n    font-size: 11px;\n    background-color: rgba(242,255,223,0.8);\n    padding: 2px 10px;\n    color: rgb(7,28,44);\n    border-radius: 3px;\n  }\n  .pointLink:hover {\n    text-decoration: underline;\n  }\n  .datapoint:hover {\n    cursor: hand;\n  }\n"]);return ge=function(){return e},e}var me=h.b.div(ge()),ve=Object(oe.withSize)()((function(e){var t=e.getModalData;Object(r.useEffect)((function(){n()}),[e.size.width,e.individuals]);var n=function(){var n={width:e.size.width,height:e.size.width},a=8,r=11,i=30,c=200,o=10,s=e.individuals,l=e.meta[0],u=function(){return Math.min.apply(Math,Object(fe.a)(s.map((function(e){return Number(e._95ci_low)}))))},d=function(){return Math.max.apply(Math,Object(fe.a)(s.map((function(e){return Number(e._95ci_high)}))))},b=function(e){return se.a().domain([u(),d()]).range([c,n.width-o])(e)},p=function(e){return se.a().domain([-2,s.length+1]).range([20,460])(e)},j=[u(),Math.round(100*l.effect_size)/100,0,d()],h=function(t,n,a){var r=se.b("#".concat(e.id,"PlotContainer")).append("div").attr("id",n).attr("class","tooltip").style("left","".concat(b(1)+10,"px")).style("top","".concat(p(t)-30,"px"));a.study?r.html(a.study+" ("+a.primary_tissue+"; "+a.sequencing+")<br />N="+a.n+"<br />hazard ratio="+Number(a.effect_size).toFixed(4)+"<br />P-value="+Number(a.pval).toFixed(4)):r.html("Pooled Effect Size<br />N="+a.n+"<br />hazard ratio="+Number(a.effect_size).toFixed(4)+"<br />P-value="+Number(a.pval).toFixed(4))},x=function(e){se.b(e).remove()},g=se.b("#".concat(e.id));g.selectAll("*").remove(),g.attr("width",n.width).attr("height",n.height);var m=g.append("g");m.append("line").attr("id","xAxe").attr("x1",b(u())-c/2).attr("x2",b(d())+i).attr("y1",p(s.length)).attr("y2",p(s.length)).style("stroke","#949494").style("stroke-width","1.5"),m.append("line").attr("id","yAxe").attr("x1",b(0)).attr("x2",b(0)).attr("y1",p(-2)).attr("y2",p(s.length)).style("stroke","#949494").style("stroke-width","1.5"),m.append("line").attr("id","yAxe-dash").attr("x1",b(l.effect_size)).attr("x2",b(l.effect_size)).attr("y1",p(-2)).attr("y2",p(s.length)).attr("stroke-dasharray","3,4").style("stroke",f.orange_highlight).style("stroke-width","1"),Object.keys(j).forEach((function(e,t){m.append("text").attr("id","xTag-"+t).attr("x",b(j[t])).attr("y",p(s.length+.5)).attr("font-size",r).attr("font-weight","regular").attr("fill","#444444").attr("text-anchor","middle").text(j[t])})),Object.keys(j).forEach((function(e,t){m.append("line").attr("id","xAxeDash"+t).attr("x1",b(j[t])).attr("x2",b(j[t])).attr("y1",p(s.length)-5).attr("y2",p(s.length)+5).style("stroke","#949494").style("stroke-width","1")})),m.append("text").attr("x",b(0)).attr("y",p(s.length+1.5)).attr("font-size",r+2).attr("font-weight","regular").attr("fill","#444444").attr("text-anchor","middle").text("Hazard Ratio"),Object.keys(e.individuals).forEach((function(e,n){var i="point-".concat(s[e].study.replace(/[^a-zA-Z]/g,"")),c=g.append("g").attr("id","datapoint-"+n).attr("class","datapoint").style("cursor","hand").on("click",(function(){!function(e){var n=s[e].study;t({dataset_name:n})}(e)})).on("mouseover",(function(){h(e,i,s[e])})).on("mouseout",(function(){x("#".concat(i))}));c.append("a").attr("id","tag-"+n).attr("class","pointLink").append("text").attr("x",0).attr("y",p(n)).attr("font-size",r).attr("fill","#444444").text("".concat(s[e].study,"(").concat(s[e].primary_tissue,", ").concat(s[e].sequencing,")")),c.append("line").attr("id","interval-"+n).attr("x1",b(Number(s[e]._95ci_low))).attr("x2",b(Number(s[e]._95ci_high))).attr("y1",p(n)).attr("y2",p(n)).style("stroke","#8b9eae").style("stroke-width","2").append("title").text("95CI:(".concat(s[e]._95ci_low,", ").concat(s[e]._95ci_high,")")),c.append("rect").attr("id","datPoint-"+n).attr("x",b(Number(s[e].effect_size))-a/2).attr("y",p(n)-a/2).style("width",a).style("height",a).style("fill","#37799d")}));var v=g.append("g").attr("id","pooled-effect").on("mouseover",(function(){h(-1,"polygon-tooltip",l)})).on("mouseout",(function(){x("#polygon-tooltip")}));v.append("text").attr("id","tag-pooled-effect").attr("x",0).attr("y",p(-1)).attr("font-size",r).attr("fill","#444444").text("Pooled Effect Sizes"),v.append("polygon").attr("id","diamond").attr("points",b(Number(l._95ci_low))+", "+p(-1)+" "+b(Number(l.effect_size))+", "+(p(-1)-a/2)+" "+b(Number(l._95ci_high))+", "+p(-1)+" "+b(Number(l.effect_size))+", "+(p(-1)+a/2)+" ").style("fill",f.orange_highlight)};return Object(a.jsx)(me,{id:"".concat(e.id,"PlotContainer"),children:Object(a.jsx)("svg",{id:e.id})})}));function Oe(){var e=Object(j.a)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    margin-bottom: 20px;\n    font-size: 12px;\n\n    .title {\n        font-weight: bold;\n    }\n\n    .parameterLine {\n        .value {\n            font-weight: bold;\n        }\n    }\n    \n    .filter {\n        display: flex;\n        flex: 30%;\n        align-items: center;\n        margin-left: 20px;\n        .label {\n            margin-right: 5px;\n        }\n        .dropdown {\n            flex: 30%;\n        }\n        .sortIconBtn {\n            font-size: 14px;\n            margin-left: 10px;\n            background: none;\n            border: none;\n            padding: 0;\n            cursor: pointer;\n            outline: none;\n        }\n    }\n\n    .effectSizeValues {\n        display: flex;\n        .valueLine {\n            margin-left: 15px;\n            .value {\n                margin-left: 5px;\n                font-weight: bold;\n            }\n        }\n    }\n"]);return Oe=function(){return e},e}function ye(){var e=Object(j.a)(["\n    width: 100%;\n"]);return ye=function(){return e},e}var we=h.b.div(ye()),_e=h.b.div(Oe()),Se=function(e){var t=e.parameters,n=e.forestPlotData,i=e.getModalData,c=Object(r.useState)({ready:!1,individuals:[],meta:[]}),o=Object(p.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)({value:"effect_size",asc:!0}),d=Object(p.a)(u,2),b=d[0],j=d[1],h=Object(r.useState)("ALL"),f=Object(p.a)(h,2),x=f[0],g=f[1],m=Object(r.useState)("ALL"),v=Object(p.a)(m,2),O=v[0],y=v[1],w=Object(r.useState)([]),_=Object(p.a)(w,2),S=_[0],N=_[1],P=Object(r.useState)([]),I=Object(p.a)(P,2),C=I[0],k=I[1];return Object(r.useEffect)((function(){var e=n.data.meta.filter((function(e){return"Tumor"===e.subgroup&&e.n>=3}));(e=e.map((function(e){return{value:e.tissue_type,label:e.tissue_type}})).sort((function(e,t){return e.label.localeCompare(t.label)}))).unshift({value:"ALL",label:"All"}),N(e),(e=(e=n.data.meta.filter((function(e){return"Sequencing"===e.subgroup&&e.n>=3}))).map((function(e){return{value:e.tissue_type,label:e.tissue_type}})).sort((function(e,t){return e.label.localeCompare(t.label)}))).unshift({value:"ALL",label:"All"}),k(e),l({individuals:Object(fe.a)(n.data.individuals).sort((function(e,t){return e[b.value]-t[b.value]})),meta:n.data.meta.filter((function(e){return"ALL"===e.tissue_type})),ready:!0})}),[]),Object(r.useEffect)((function(){var e="ALL",t=Object(fe.a)(n.data.individuals),a=Object(fe.a)(n.data.meta);"ALL"!==x&&(t=t.filter((function(e){return e.primary_tissue===x})),e=x,y("ALL")),"ALL"!==O&&(t=t.filter((function(e){return e.sequencing===O})),e=O,g("ALL")),"effect_size"===b.value?t.sort((function(e,t){return b.asc?e[b.value]-t[b.value]:t[b.value]-e[b.value]})):(t.sort((function(e,t){return e[b.value]-t[b.value]})),b.asc||t.reverse()),t.sort((function(e,t){return b.asc?e[b.value]-t[b.value]:t[b.value]-e[b.value]})),l((function(n){return Object(F.a)(Object(F.a)({},n),{},{individuals:t,meta:a.filter((function(t){return t.tissue_type===e}))})}))}),[b,x,O]),Object(a.jsx)("div",{children:s.ready&&Object(a.jsxs)(we,{children:[Object(a.jsx)("h3",{children:"Forest Plot"}),Object(a.jsxs)(_e,{children:[Object(a.jsxs)("div",{className:"parameterLine",children:["Signature: ",Object(a.jsx)("span",{className:"value",children:t.signature})]}),Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsx)("span",{className:"label",children:"Sort By:"}),Object(a.jsx)(U,{className:"dropdown",value:b.value,options:[{value:"effect_size",label:"Hazard Ratio"},{value:"study",label:"Studies"}],onChange:function(e){j((function(t){return Object(F.a)(Object(F.a)({},t),{},{value:e.value})}))},placeholder:"Select..."}),Object(a.jsx)("button",{className:"sortIconBtn",onClick:function(e){j((function(e){return Object(F.a)(Object(F.a)({},e),{},{asc:!e.asc})}))},children:b.asc?Object(a.jsx)(xe.a,{}):Object(a.jsx)(xe.b,{})})]})]}),Object(a.jsxs)(_e,{children:[Object(a.jsx)("div",{className:"title",children:"Filter By: "}),Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsx)("span",{className:"label",children:"Tissue Type:"}),Object(a.jsx)(U,{className:"dropdown",value:x,options:S,onChange:function(e){g(e.value)},disabled:"ALL"!==O,placeholder:"Select..."})]}),Object(a.jsxs)("div",{className:"filter",children:[Object(a.jsx)("span",{className:"label",children:"Sequencing Type:"}),Object(a.jsx)(U,{className:"dropdown",value:O,options:C,onChange:function(e){y(e.value)},disabled:"ALL"!==x,placeholder:"Select..."})]})]}),Object(a.jsxs)(_e,{children:[Object(a.jsx)("div",{className:"title",children:"Pooled Effect Sizes: "}),Object(a.jsxs)("div",{className:"effectSizeValues",children:[Object(a.jsxs)("div",{className:"valueLine",children:["Coef:",Object(a.jsxs)("span",{className:"value",children:[Number(s.meta[0].effect_size).toFixed(2)," "]}),"[95CI%:",Object(a.jsxs)("span",{className:"value",children:[Number(s.meta[0]._95ci_low).toFixed(2)," "]}),"-",Object(a.jsx)("span",{className:"value",children:Number(s.meta[0]._95ci_high).toFixed(2)}),"]"]}),Object(a.jsxs)("div",{className:"valueLine",children:["P-value: ",Object(a.jsx)("span",{className:"value",children:Number(s.meta[0].pval).toFixed(3)})]}),Object(a.jsxs)("div",{className:"valueLine",children:["Het. I2: ",Object(a.jsx)("span",{className:"value",children:Number(s.meta[0].i2).toFixed(3)})]}),Object(a.jsxs)("div",{className:"valueLine",children:["I2 Pval: ",Object(a.jsx)("span",{className:"value",children:Number(s.meta[0].pval_i2).toFixed(3)})]})]})]}),Object(a.jsx)(ve,{id:"forestplot",individuals:s.individuals,meta:s.meta,getModalData:i})]})})};function Ne(){var e=Object(j.a)(["\n    width: 100%;\n    height: 500px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Ne=function(){return e},e}function Pe(){var e=Object(j.a)(["\n    width: ",";\n    .forestPlotMessage {\n        font-size: 12px;\n    }\n    padding 10px;\n"]);return Pe=function(){return e},e}function Ie(){var e=Object(j.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    .volcano {\n        width: 35%;\n    }\n    .forest {\n        width: 65%;\n    }\n"]);return Ie=function(){return e},e}var Ce=h.b.div(Ie()),ke=h.b.div(Pe(),(function(e){return e.width})),ze=h.b.div(Ne());function Le(){var e=Object(j.a)(["\n  display: inline;\n  margin-top:40px;\n"]);return Le=function(){return e},e}function Ee(){var e=Object(j.a)(["\n  width: 80%;\n  height: auto;\n  overflow-y: scroll;\n  align-items: center;\n  top: -25%;\n  left: 0%;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  border-radius: 10px;\n  z-index: 9;\n  //background: rgb(255, 255, 255);\n  background: rgba(88, 88, 88, 0.95);\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.3);\n  position: absolute;\n  align-content: center;\n  font-family: ",";\n    //color: ",";\n  color: whitesmoke;\n"]);return Ee=function(){return e},e}function Te(){var e=Object(j.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 10px;\n    border: none;\n    font-weight: normal;\n    letter-spacing: 1.5px;\n    width: 80px;\n    height: 30px;\n    background-color: ",";\n    font-size: 16px;\n    color: #ffffff;\n    cursor: pointer;\n    align-self: flex-end;\n    position: relative;\n    }\n"]);return Te=function(){return e},e}var qe=h.b.button(Te(),f.blue),De=h.b.div(Ee(),"Noto Sans",f.light_gray),Fe=h.b.h4(Le()),Me=function(e){var t=e.modalData.data,n=t.dataset_name,r=t.title,i=t.authors,c=t.summary,o=t.pmid,s=e.removeModalData;return Object(a.jsxs)(De,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:n}),Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:r})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Fe,{children:"Authors: "})," ",i]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Fe,{children:"Summary: "})," ",c]}),Object(a.jsx)("br",{})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{style:{display:"flex",float:"center",position:"absolute",right:"20px",bottom:"10px"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(qe,{style:{width:"90px",height:"34px",fontSize:"14px",marginLeft:"100px"},as:"a",href:o,target:"_blank",rel:"noopener",primary:!0,children:"Pubmed"})}),Object(a.jsx)("div",{children:Object(a.jsx)(qe,{style:{width:"90px",height:"34px",fontSize:"14px",marginLeft:"10px"},as:"a",onClick:function(){s()},target:"_blank",rel:"noopener",primary:!0,children:"Close"})})]})]})};function Ae(){var e=Object(j.a)(["\n  justify-content: space-between;\n  alignment: center;\n  margin-top: -750px;\n  margin-left: 170px;\n  width: 100%;\n  height: 100%;\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\n  background: #cdcdcd;\n  color: #000;\n  display: grid;\n  grid-template-columns: 1fr;\n  position: relative;\n  z-index: 10;\n  border-radius: 10px;\n  color: ",";\n"]);return Ae=function(){return e},e}var Be=h.b.div(Ae(),f.gray_text),Ge=function(e){var t=e.modalData,n=e.removeModalData;return Object(a.jsx)(Be,{children:Object(a.jsx)(Me,{modalData:t,removeModalData:n})})};function Re(){var e=Object(j.a)(["\n    width: 100%;\n"]);return Re=function(){return e},e}var We=h.b.div(Re()),He=function(e){var t=e.parameters,n=e.setParameters,i=Object(r.useState)({data:{},ready:!1}),c=Object(p.a)(i,2),o=c[0],s=c[1],l=Object(r.useState)({data:{},loading:!1,ready:!1}),u=Object(p.a)(l,2),j=u[0],h=u[1],x=Object(r.useState)({data:{},ready:!1}),g=Object(p.a)(x,2),m=g[0],v=g[1],O=function(){var e=Object(b.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({data:{},ready:!1}),h({data:{},loading:!1,ready:!1}),e.next=4,A.a.post("/api/explore/volcano_plot",t);case 4:n=e.sent,s({data:n.data,ready:!0});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h({data:{},loading:!0,ready:!1}),e.next=3,A.a.post("/api/explore/forest_plot",t);case 3:n=e.sent,console.log(n.data),h({data:n.data,loading:!1,ready:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({data:{},ready:!1}),e.next=3,A.a.post("/api/explore/description_modal",t);case 3:n=e.sent,console.log(n.data),v({data:n.data,ready:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){O()}),[]),Object(a.jsxs)(We,{children:[Object(a.jsx)("h3",{children:"Explore pre-computed signature data"}),Object(a.jsx)(ee,{parameters:t,setParameters:n,onSubmit:O,flexDirection:"row",resetButton:!0,onReset:function(){window.location.reload()}}),Object(a.jsxs)(Ce,{children:[Object(a.jsx)(ke,{width:"40%",children:o.ready?Object(a.jsx)(he,{parameters:t,setParameters:n,volcanoPlotData:o,getForestPlotData:y}):Object(a.jsx)(ze,{children:Object(a.jsx)(ne.a,{type:"Oval",color:f.blue,height:80,width:80})})}),Object(a.jsx)(ke,{width:"60%",children:j.ready?Object(a.jsx)(Se,{parameters:t,forestPlotData:j,getModalData:w}):j.loading?Object(a.jsx)(ze,{children:Object(a.jsx)(ne.a,{type:"Oval",color:f.blue,height:80,width:80})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Forest Plot"}),Object(a.jsx)("div",{className:"forestPlotMessage",children:"Click on a signature point on the volcano plot to display a corresponding forest plot."})]})})]}),Object(a.jsx)(Ce,{children:m.ready?Object(a.jsx)(Ge,{modalData:m,removeModalData:function(){v({data:{},ready:!1})}}):Object(a.jsx)(ke,{})})]})};function Je(){var e=Object(j.a)(["\n    width: 90%;\n    max-width: 550px;\n    min-width: 415px;\n    display: flex;\n    flex-direction: column;\n    aling-items: center;\n    margin-top: 30px;\n\n    .subText {\n        font-size: 20px;\n        font-weight: bold;\n    }\n"]);return Je=function(){return e},e}function Ke(){var e=Object(j.a)(["\n    width: 90%;\n    max-width: 550px;\n    min-width: 415px;\n    margin-top: 20px;\n    margin-bottom: 20px;\n    line-height: 1.5;\n    letter-spacing: 1.5px;\n"]);return Ke=function(){return e},e}function Ve(){var e=Object(j.a)(["\n    height: 100px;\n    img {\n        height: 100%;\n    }\n"]);return Ve=function(){return e},e}function Ue(){var e=Object(j.a)(["\n    width: 100%;\n    height: calc(100vh - 105px);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return Ue=function(){return e},e}var Xe=h.b.div(Ue()),Ze=h.b.div(Ve()),$e=h.b.div(Ke()),Qe=h.b.div(Je()),Ye=function(){var e=Object(r.useState)(!0),t=Object(p.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)({signatures:["ALL"],outcome:"",model:""}),o=Object(p.a)(c,2),s=o[0],l=o[1],u=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(D,{children:n?Object(a.jsxs)(Xe,{children:[Object(a.jsx)(Ze,{children:Object(a.jsx)("img",{alt:"IO.db",src:"./images/logos/IOdb-logo-main.png"})}),Object(a.jsxs)($e,{children:["Investigate predictive and prognostic values of your gene.",Object(a.jsx)("br",{}),"Predict a patient response to ICB therapy."]}),Object(a.jsxs)(Qe,{children:[Object(a.jsx)("div",{className:"subText",children:"Explore pre-computed signature data"}),Object(a.jsx)(ee,{parameters:s,setParameters:l,onSubmit:u,flexDirection:"column"})]})]}):Object(a.jsx)(He,{parameters:s,setParameters:l})})},et=n(80);function tt(){var e=Object(j.a)(["\n    label {\n        font-size: 12px;\n        line-height: 1.3;\n    }\n"]);return tt=function(){return e},e}function nt(){var e=Object(j.a)(["\n    font-size: 12px;\n    color: ",";\n    width: 100%;\n"]);return nt=function(){return e},e}var at=Object(h.b)(et.InputText)(nt(),f.gray_text),rt=h.b.span(tt()),it=function(e){var t=e.id,n=e.className,r=e.value,c=e.onChange,o=e.placeholder,s=e.disabled,l=e.withLabel,u=e.label;return Object(a.jsx)(i.a.Fragment,{children:l?Object(a.jsxs)(rt,{className:"p-float-label",children:[Object(a.jsx)(at,{id:t,className:n,value:r,onChange:c,placeholder:o,disabled:s}),Object(a.jsx)("label",{htmlFor:t,children:u})]}):Object(a.jsx)(at,{id:t,className:n,value:r,onChange:c,placeholder:o,disabled:s})})},ct=n(81);function ot(){var e=Object(j.a)(["\n    width: 100%;\n    .p-inputtext {\n        width: 100%;\n        .p-autocomplete-input-token input {\n            font-size: 12px;\n            color: ",";\n        }\n    }\n    .p-autocomplete-panel {\n        font-size: 12px;\n        color: ",";\n    }\n    .p-autocomplete-token {\n        font-size: 12px;\n    }\n"]);return ot=function(){return e},e}var st=Object(h.b)(ct.AutoComplete)(ot(),f.gray_text,f.gray_text),lt=function(e){var t=e.className,n=e.selectedGenes,i=e.onChange,c=Object(r.useState)([]),o=Object(p.a)(c,2),s=o[0],l=o[1],u=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/search_gene?query=".concat(t.query));case 2:n=e.sent,l(n.data.map((function(e){return{name:e.gene_name,value:e.gene_id}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(st,{className:t,value:n,suggestions:s,completeMethod:u,field:"name",multiple:!0,onChange:i,placeholder:"ex. B2M, CD8A, GZMA"})};function ut(){var e=Object(j.a)(["\n    width: 50%;\n"]);return ut=function(){return e},e}var dt=h.b.div(ut()),bt=function(e){var t=Object(r.useState)({gene:[],dataType:"",sex:[],primary:[],drugType:[],sequencingType:[],study:[],email:""}),n=Object(p.a)(t,2),i=n[0],c=n[1],o=Object(r.useState)({options:[],disabled:!0}),s=Object(p.a)(o,2),l=s[0],u=s[1],j=Object(r.useState)({options:[],disabled:!0}),h=Object(p.a)(j,2),f=h[0],x=h[1],g=Object(r.useState)({options:[],disabled:!0}),m=Object(p.a)(g,2),v=m[0],O=m[1],y=Object(r.useState)({options:[],disabled:!0}),w=Object(p.a)(y,2),_=w[0],S=w[1],N=Object(r.useState)({options:[],disabled:!0}),P=Object(p.a)(N,2),I=P[0],C=P[1],k=Object(r.useState)({options:[],disabled:!0}),z=Object(p.a)(k,2),L=z[0],E=z[1],T=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(i),t="",e.t0=i.dataType,e.next="expression"===e.t0?5:"snp"===e.t0?7:"cna"===e.t0?9:11;break;case 5:return t="EXP",e.abrupt("break",11);case 7:return t="SNP",e.abrupt("break",11);case 9:return t="CNA",e.abrupt("break",11);case 11:return e.next=13,A.a.post("/api/explore/signature/request",Object(F.a)(Object(F.a)({},i),{},{gene:i.gene.map((function(e){return e.name})),dataType:t}));case 13:n=e.sent,console.log(n.data);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/api/dropdown_option/clinical_data/".concat(t,"?").concat(n),console.log(a),e.next=4,A.a.get(a);case 4:r=e.sent,console.log(r.data),e.t0=t,e.next="datatype"===e.t0?9:"sex"===e.t0?11:"primary"===e.t0?13:"drugtype"===e.t0?15:"sequencing"===e.t0?17:"study"===e.t0?19:22;break;case 9:return u({options:r.data,disabled:!1}),e.abrupt("break",23);case 11:return x({options:r.data,disabled:!1}),e.abrupt("break",23);case 13:return O({options:r.data,disabled:!1}),e.abrupt("break",23);case 15:return S({options:r.data,disabled:!1}),e.abrupt("break",23);case 17:return C({options:r.data,disabled:!1}),e.abrupt("break",23);case 19:return E({options:r.data,disabled:!1}),c(Object(F.a)(Object(F.a)({},i),{},{study:r.data.map((function(e){return e.value}))})),e.abrupt("break",23);case 22:return e.abrupt("break",23);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(e,t){var n="";return e.forEach((function(a,r){console.log(a),n=n.concat("".concat(t,"=").concat(a).concat(r<e.length-1?"&":""))})),n};return Object(r.useEffect)((function(){if(c(Object(F.a)(Object(F.a)({},i),{},{dataType:[],sex:[],primary:[],drugType:[],sequencingType:[],study:[]})),u({options:[],disabled:!0}),x({options:[],disabled:!0}),O({options:[],disabled:!0}),S({options:[],disabled:!0}),C({options:[],disabled:!0}),E({options:[],disabled:!0}),i.gene.length>0){var e=M(i.gene.map((function(e){return e.value})),"gene");q("datatype",e)}}),[i.gene]),Object(r.useEffect)((function(){if(c(Object(F.a)(Object(F.a)({},i),{},{sex:[],primary:[],drugType:[],sequencingType:[],study:[]})),x({options:[],disabled:!0}),O({options:[],disabled:!0}),S({options:[],disabled:!0}),C({options:[],disabled:!0}),E({options:[],disabled:!0}),i.dataType.length>0){var e=M(i.gene.map((function(e){return e.value})),"gene");e=e.concat("&datatype=".concat(i.dataType)),q("sex",e)}}),[i.dataType]),Object(r.useEffect)((function(){if(c(Object(F.a)(Object(F.a)({},i),{},{primary:[],drugType:[],sequencingType:[],study:[]})),O({options:[],disabled:!0}),S({options:[],disabled:!0}),C({options:[],disabled:!0}),E({options:[],disabled:!0}),i.sex.length>0){var e=M(i.gene.map((function(e){return e.value})),"gene");e=(e=e.concat("&datatype=".concat(i.dataType))).concat("&".concat(M(i.sex,"sex"))),q("primary",e)}}),[i.sex]),Object(r.useEffect)((function(){if(c(Object(F.a)(Object(F.a)({},i),{},{drugType:[],sequencingType:[],study:[]})),S({options:[],disabled:!0}),C({options:[],disabled:!0}),E({options:[],disabled:!0}),i.primary.length>0){var e=M(i.gene.map((function(e){return e.value})),"gene");e=(e=(e=e.concat("&datatype=".concat(i.dataType))).concat("&".concat(M(i.sex,"sex")))).concat("&".concat(M(i.primary,"primary"))),q("drugtype",e)}}),[i.primary]),Object(r.useEffect)((function(){if(i.drugType.length>0){c(Object(F.a)(Object(F.a)({},i),{},{sequencingType:[],study:[]})),C({options:[],disabled:!0}),E({options:[],disabled:!0});var e=M(i.gene.map((function(e){return e.value})),"gene");e=(e=(e=(e=e.concat("&datatype=".concat(i.dataType))).concat("&".concat(M(i.sex,"sex")))).concat("&".concat(M(i.primary,"primary")))).concat("&".concat(M(i.drugType,"drugtype"))),q("sequencing",e)}}),[i.drugType]),Object(r.useEffect)((function(){if(c(Object(F.a)(Object(F.a)({},i),{},{study:[]})),E({options:[],disabled:!0}),i.sequencingType.length>0){var e=M(i.gene.map((function(e){return e.value})),"gene");e=(e=(e=(e=(e=e.concat("&datatype=".concat(i.dataType))).concat("&".concat(M(i.sex,"sex")))).concat("&".concat(M(i.primary,"primary")))).concat("&".concat(M(i.drugType,"drugtype")))).concat("&".concat(M(i.sequencingType,"sequencing"))),q("study",e)}}),[i.sequencingType]),Object(a.jsx)(D,{children:Object(a.jsxs)(dt,{children:[Object(a.jsx)("h4",{children:"IOPredict"}),Object(a.jsxs)(G,{flexDirection:"column",children:[Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Search for Gene(s): "}),Object(a.jsx)(lt,{className:"input",selectedGenes:i.gene,onChange:function(e){c(Object(F.a)(Object(F.a)({},i),{},{gene:e.value}))}})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Data Type: "}),Object(a.jsx)(U,{className:"input",value:i.dataType,options:l.options,onChange:function(e){c(Object(F.a)(Object(F.a)({},i),{},{dataType:e.value}))},filter:!0,checkbox:!0,placeholder:"Select...",disabled:l.disabled})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Sex: "}),Object(a.jsx)(Y,{className:"input",value:i.sex,options:f.options,onChange:function(e){c(Object(F.a)(Object(F.a)({},i),{},{sex:e.value}))},filter:!0,checkbox:!0,placeholder:"Select...",disabled:f.disabled})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Primary Tissue: "}),Object(a.jsx)(Y,{className:"input",value:i.primary,options:v.options,onChange:function(e){c(Object(F.a)(Object(F.a)({},i),{},{primary:e.value}))},filter:!0,checkbox:!0,placeholder:"Select...",disabled:v.disabled})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Drug Type: "}),Object(a.jsx)(Y,{className:"input",value:i.drugType,options:_.options,onChange:function(e){c(Object(F.a)(Object(F.a)({},i),{},{drugType:e.value}))},filter:!0,checkbox:!0,placeholder:"Select...",disabled:_.disabled})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Sequencing Type: "}),Object(a.jsx)(Y,{className:"input",value:i.sequencingType,options:I.options,onChange:function(e){c(Object(F.a)(Object(F.a)({},i),{},{sequencingType:e.value}))},filter:!0,checkbox:!0,placeholder:"Select...",disabled:I.disabled})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Studies: "}),Object(a.jsx)(Y,{className:"input",value:i.study,options:L.options,onChange:function(e){c(Object(F.a)(Object(F.a)({},i),{},{study:e.value}))},filter:!0,checkbox:!0,placeholder:"Select...",disabled:L.disabled})]}),Object(a.jsxs)("div",{className:"formField",children:[Object(a.jsx)("div",{className:"label",children:"Email: "}),Object(a.jsx)(it,{className:"input",value:i.email,onChange:function(e){c(Object(F.a)(Object(F.a)({},i),{},{email:e.target.value}))}})]}),Object(a.jsx)("div",{className:"formField buttonField",children:Object(a.jsx)(H,{onClick:function(e){T()},text:"Submit",style:{width:"90px",height:"34px",fontSize:"14px"},disabled:0===i.study.length||0===i.sex.length||0===i.primary.length||0===i.drugType.length||0===i.dataType.length||0===i.sequencingType.length||0===i.email.length||!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(i.email)})})]})]})})};function pt(){var e=Object(j.a)(["\n    display: flex;\n    font-size: 12px;\n    .left {\n        margin-right: 30px;\n    }\n    td {\n        padding-bottom: 10px;\n    }\n    .title {\n        font-weight: bold;\n        padding-right: 10px;\n    }\n"]);return pt=function(){return e},e}var jt=h.b.div(pt()),ht=function(e){var t=e.reqInfo;return Object(a.jsxs)(jt,{children:[Object(a.jsx)("table",{className:"left",children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"title",children:"Analysis ID: "}),Object(a.jsx)("td",{children:t.analysis_id})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"title",children:"Time Submitted: "}),Object(a.jsx)("td",{children:t.time_submitted})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"title",children:"Time Completed: "}),Object(a.jsx)("td",{children:t.time_completed})]})]})}),Object(a.jsx)("table",{className:"left",children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"title",children:"Genes: "}),Object(a.jsx)("td",{children:t.input_genes.join(", ")})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"title",children:"Datatype: "}),Object(a.jsx)("td",{children:t.input_datatype})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"title",children:"Sex: "}),Object(a.jsx)("td",{children:t.input_sex.map((function(e){return"M"===e?"Male":"Female"})).join(", ")})]})]})}),Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"title",children:"Primary: "}),Object(a.jsx)("td",{children:t.input_primary.join(", ")})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"title",children:"Drug Type: "}),Object(a.jsx)("td",{children:t.input_drug_type.join(", ")})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"title",children:"Sequencing Type: "}),Object(a.jsx)("td",{children:t.input_sequencing.join(", ")})]})]})})]})};function ft(){var e=Object(j.a)(["\n    \n"]);return ft=function(){return e},e}var xt=h.b.div(ft()),gt=function(){var e=Object(l.f)().id,t=Object(r.useState)({signatures:["ALL"],outcome:"",model:""}),n=Object(p.a)(t,2),i=n[0],c=n[1],o=Object(r.useState)(),s=Object(p.a)(o,2),u=s[0],j=s[1],h=Object(r.useState)({data:{},ready:!1}),x=Object(p.a)(h,2),g=x[0],m=x[1],v=Object(r.useState)({data:{},loading:!1,ready:!1}),O=Object(p.a)(v,2),y=O[0],w=O[1],_=function(){var t=Object(b.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w({data:{},loading:!0,ready:!1}),c(n),t.next=4,A.a.get("/api/explore/signature/forest_plot/".concat(e,"?model=").concat(n.model,"&outcome=").concat(n.outcome));case 4:a=t.sent,console.log(a.data),w({data:a.data,loading:!1,ready:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var t=Object(b.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,A.a.get("/api/explore/signature/result/".concat(e));case 3:n=t.sent,console.log(n.data),j(n.data.reqInfo),m({data:n.data.result,ready:!0});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(a.jsx)(D,{children:Object(a.jsxs)(xt,{children:[Object(a.jsx)("h3",{children:"Gene Signature Analysis Result"}),"undefined"!==typeof u&&Object(a.jsx)(ht,{reqInfo:u}),Object(a.jsxs)(Ce,{children:[Object(a.jsx)(ke,{width:"40%",children:g.ready?Object(a.jsx)(he,{parameters:i,setParameters:c,volcanoPlotData:g,getForestPlotData:_,onthefly:!0}):Object(a.jsx)(ze,{children:Object(a.jsx)(ne.a,{type:"Oval",color:f.blue,height:80,width:80})})}),Object(a.jsx)(ke,{width:"60%",children:y.ready?Object(a.jsx)(Se,{parameters:i,forestPlotData:y}):y.loading?Object(a.jsx)(ze,{children:Object(a.jsx)(ne.a,{type:"Oval",color:f.blue,height:80,width:80})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Forest Plot"}),Object(a.jsx)("div",{className:"forestPlotMessage",children:"Click on a signature point on the volcano plot to display a corresponding forest plot."})]})})]})]})})},mt=[{study:"Braun",Primary:"Kidney",Sequencing:"WES",N:"207",coef:"1.31",SE:"1","95CI_low":"-0.63","95CI_high":"3.3",Pval:"0.19116187669392",I2:"",Pval_I2:"","":""},{study:"Hugo",Primary:"Melanoma",Sequencing:"WES",N:"38",coef:"-1.15",SE:"0.88","95CI_low":"-3.03","95CI_high":"0.51",Pval:"0.192069400517325",I2:"",Pval_I2:"","":""},{study:"Jung",Primary:"Lung",Sequencing:"WES",N:"58",coef:"-2.89",SE:"1.87","95CI_low":"-6.81","95CI_high":"0.72",Pval:"0.12320240249438",I2:"",Pval_I2:"","":""},{study:"Liu",Primary:"Melanoma",Sequencing:"WES",N:"133",coef:"-0.6",SE:"0.33","95CI_low":"-1.27","95CI_high":"0.04",Pval:"0.0699389753777812",I2:"",Pval_I2:"","":""},{study:"Mariathasan",Primary:"Bladder",Sequencing:"TGS",N:"111",coef:"-1.4",SE:"0.76","95CI_low":"-3.01","95CI_high":"-0.01",Pval:"0.0654101643137176",I2:"",Pval_I2:"","":""},{study:"Mariathasan",Primary:"Kidney",Sequencing:"TGS",N:"41",coef:"-4.15",SE:"1.97","95CI_low":"-8.51","95CI_high":"-0.67",Pval:"0.0354133425733776",I2:"",Pval_I2:"","":""},{study:"Miao.1",Primary:"Kidney",Sequencing:"WES",N:"26",coef:"6.64",SE:"4.65","95CI_low":"-1.94","95CI_high":"16.66",Pval:"0.153071317449668",I2:"",Pval_I2:"","":""},{study:"Miao.2",Primary:"Bladder",Sequencing:"WES",N:"23",coef:"-4.06",SE:"2.01","95CI_low":"-8.59","95CI_high":"-0.55",Pval:"0.0429795958386913",I2:"",Pval_I2:"","":""},{study:"Miao.2",Primary:"Lung",Sequencing:"WES",N:"46",coef:"-4.08",SE:"1.32","95CI_low":"-7.01","95CI_high":"-1.77",Pval:"0.00206350292809808",I2:"",Pval_I2:"","":""},{study:"Miao.2",Primary:"Melanoma",Sequencing:"WES",N:"121",coef:"-0.9",SE:"0.41","95CI_low":"-1.74","95CI_high":"-0.11",Pval:"0.0282676251140886",I2:"",Pval_I2:"","":""},{study:"Nathanson",Primary:"Melanoma",Sequencing:"WES",N:"64",coef:"-1.9",SE:"0.74","95CI_low":"-3.47","95CI_high":"-0.53",Pval:"0.0103990433952875",I2:"",Pval_I2:"","":""},{study:"Riaz",Primary:"Melanoma",Sequencing:"WES",N:"42",coef:"-0.88",SE:"0.59","95CI_low":"-2.1","95CI_high":"0.26",Pval:"0.136832503169481",I2:"",Pval_I2:"","":""},{study:"Rizvi.15",Primary:"Lung",Sequencing:"WES",N:"27",coef:"-3.34",SE:"1.54","95CI_low":"-6.88","95CI_high":"-0.68",Pval:"0.0299558614957989",I2:"",Pval_I2:"","":""},{study:"Rizvi.18",Primary:"Lung",Sequencing:"TGS",N:"29",coef:"-1.91",SE:"1.43","95CI_low":"-5.05","95CI_high":"0.74",Pval:"0.181139430451187",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"Esophagus",Sequencing:"TGS",N:"21",coef:"-0.26",SE:"1.57","95CI_low":"-3.28","95CI_high":"2.68",Pval:"0.86966691869969",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"HNC",Sequencing:"TGS",N:"72",coef:"0.23",SE:"0.56","95CI_low":"-0.91","95CI_high":"1.31",Pval:"0.677660893752833",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"Melanoma",Sequencing:"TGS",N:"108",coef:"-1",SE:"0.33","95CI_low":"-1.66","95CI_high":"-0.37",Pval:"0.00232570823833877",I2:"",Pval_I2:"","":""},{study:"Samstein",Primary:"Unknown",Sequencing:"TGS",N:"29",coef:"-2.78",SE:"0.88","95CI_low":"-4.72","95CI_high":"-1.22",Pval:"0.0015732380306142",I2:"",Pval_I2:"","":""},{study:"Snyder",Primary:"Ureteral",Sequencing:"WES",N:"22",coef:"-1.02",SE:"0.88","95CI_low":"-2.92","95CI_high":"0.62",Pval:"0.24338559549317",I2:"",Pval_I2:"","":""},{study:"Van_Allen",Primary:"Melanoma",Sequencing:"WES",N:"104",coef:"-0.52",SE:"0.49","95CI_low":"-1.5","95CI_high":"0.45",Pval:"0.288334147400417",I2:"",Pval_I2:"","":""},{study:"Meta-analysis",Primary:"ALL",Sequencing:"",N:"1322",coef:"-1.1",SE:"0.24","95CI_low":"-1.57","95CI_high":"-0.63",Pval:"4.09577538170971E-06",I2:"0.46",Pval_I2:"0.0128496553144055","":""}];n(82);function vt(){var e=Object(j.a)(["\n    width: 100%;\n    height: 100%;\n    margin-top: 40px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return vt=function(){return e},e}h.b.div(vt());var Ot=mt,yt=mt[mt.length-1],wt=function(){return Math.min.apply(Math,Object(fe.a)(Ot.map((function(e){return Number(e["95CI_low"])}))))},_t=function(){return Math.max.apply(Math,Object(fe.a)(Ot.map((function(e){return Number(e["95CI_high"])}))))},St=(wt(),yt.coef,_t(),function(){return Object(r.useEffect)((function(){(function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("http://localhost:5000/api/explore/itnt_data");case 3:t=e.sent,console.log(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsx)(D,{children:Object(a.jsx)("h1",{children:"Test"})})});function Nt(){var e=Object(j.a)(["\n    html, body {\n        height: 100%;\n        margin: 0;\n    }\n\n    body {\n        color: ",";\n        font-family: 'Noto Sans', sans-serif;\n        font-weight: 400;\n    }\n\n    #root {\n        height: 100%;\n        min-height: 100vh;\n    }\n\n    a {\n        text-decoration: none;\n        transition: all 0.25s ease-out 0s;\n    }\n\n    a:hover {\n        transition: all 0.25s ease-out 0s;\n    }\n"]);return Nt=function(){return e},e}var Pt=Object(h.a)(Nt(),f.gray_text),It=function(){return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(Pt,{}),Object(a.jsx)(s.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:Ye}),Object(a.jsx)(l.a,{path:"/explore/signature/request",exact:!0,component:bt}),Object(a.jsx)(l.a,{path:"/explore/signature/result/:id",exact:!0,component:gt}),Object(a.jsx)(l.a,{path:"/test",exact:!0,component:St})]})})]})},Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,179)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};n(170),n(171),n(172);o.a.render(Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)(It,{})}),document.getElementById("root")),Ct()}},[[173,1,2]]]);
//# sourceMappingURL=main.6b441c55.chunk.js.map